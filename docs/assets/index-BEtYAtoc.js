var Xy=Object.defineProperty;var Jy=(i,t,r)=>t in i?Xy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var bi=(i,t,r)=>Jy(i,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function Zy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pa={exports:{}},Ui={},ma={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function ev(){if(qh)return re;qh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=y&&S[y]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function L(S,x,te){this.props=S,this.context=x,this.refs=b,this.updater=te||N}L.prototype.isReactComponent={},L.prototype.setState=function(S,x){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,x,"setState")},L.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ne(){}ne.prototype=L.prototype;function J(S,x,te){this.props=S,this.context=x,this.refs=b,this.updater=te||N}var K=J.prototype=new ne;K.constructor=J,A(K,L.prototype),K.isPureReactComponent=!0;var Q=Array.isArray,Z=Object.prototype.hasOwnProperty,X={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function ee(S,x,te){var oe,ae={},ce=null,_e=null;if(x!=null)for(oe in x.ref!==void 0&&(_e=x.ref),x.key!==void 0&&(ce=""+x.key),x)Z.call(x,oe)&&!he.hasOwnProperty(oe)&&(ae[oe]=x[oe]);var pe=arguments.length-2;if(pe===1)ae.children=te;else if(1<pe){for(var ke=Array(pe),mt=0;mt<pe;mt++)ke[mt]=arguments[mt+2];ae.children=ke}if(S&&S.defaultProps)for(oe in pe=S.defaultProps,pe)ae[oe]===void 0&&(ae[oe]=pe[oe]);return{$$typeof:i,type:S,key:ce,ref:_e,props:ae,_owner:X.current}}function $e(S,x){return{$$typeof:i,type:S.type,key:x,ref:S.ref,props:S.props,_owner:S._owner}}function xt(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function Xt(S){var x={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return x[te]})}var Wt=/\/+/g;function pt(S,x){return typeof S=="object"&&S!==null&&S.key!=null?Xt(""+S.key):x.toString(36)}function Pt(S,x,te,oe,ae){var ce=typeof S;(ce==="undefined"||ce==="boolean")&&(S=null);var _e=!1;if(S===null)_e=!0;else switch(ce){case"string":case"number":_e=!0;break;case"object":switch(S.$$typeof){case i:case t:_e=!0}}if(_e)return _e=S,ae=ae(_e),S=oe===""?"."+pt(_e,0):oe,Q(ae)?(te="",S!=null&&(te=S.replace(Wt,"$&/")+"/"),Pt(ae,x,te,"",function(mt){return mt})):ae!=null&&(xt(ae)&&(ae=$e(ae,te+(!ae.key||_e&&_e.key===ae.key?"":(""+ae.key).replace(Wt,"$&/")+"/")+S)),x.push(ae)),1;if(_e=0,oe=oe===""?".":oe+":",Q(S))for(var pe=0;pe<S.length;pe++){ce=S[pe];var ke=oe+pt(ce,pe);_e+=Pt(ce,x,te,ke,ae)}else if(ke=C(S),typeof ke=="function")for(S=ke.call(S),pe=0;!(ce=S.next()).done;)ce=ce.value,ke=oe+pt(ce,pe++),_e+=Pt(ce,x,te,ke,ae);else if(ce==="object")throw x=String(S),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return _e}function Ht(S,x,te){if(S==null)return S;var oe=[],ae=0;return Pt(S,oe,"","",function(ce){return x.call(te,ce,ae++)}),oe}function st(S){if(S._status===-1){var x=S._result;x=x(),x.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=x)}if(S._status===1)return S._result.default;throw S._result}var Re={current:null},F={transition:null},G={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:F,ReactCurrentOwner:X};function j(){throw Error("act(...) is not supported in production builds of React.")}return re.Children={map:Ht,forEach:function(S,x,te){Ht(S,function(){x.apply(this,arguments)},te)},count:function(S){var x=0;return Ht(S,function(){x++}),x},toArray:function(S){return Ht(S,function(x){return x})||[]},only:function(S){if(!xt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},re.Component=L,re.Fragment=r,re.Profiler=l,re.PureComponent=J,re.StrictMode=o,re.Suspense=m,re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,re.act=j,re.cloneElement=function(S,x,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var oe=A({},S.props),ae=S.key,ce=S.ref,_e=S._owner;if(x!=null){if(x.ref!==void 0&&(ce=x.ref,_e=X.current),x.key!==void 0&&(ae=""+x.key),S.type&&S.type.defaultProps)var pe=S.type.defaultProps;for(ke in x)Z.call(x,ke)&&!he.hasOwnProperty(ke)&&(oe[ke]=x[ke]===void 0&&pe!==void 0?pe[ke]:x[ke])}var ke=arguments.length-2;if(ke===1)oe.children=te;else if(1<ke){pe=Array(ke);for(var mt=0;mt<ke;mt++)pe[mt]=arguments[mt+2];oe.children=pe}return{$$typeof:i,type:S.type,key:ae,ref:ce,props:oe,_owner:_e}},re.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:a,_context:S},S.Consumer=S},re.createElement=ee,re.createFactory=function(S){var x=ee.bind(null,S);return x.type=S,x},re.createRef=function(){return{current:null}},re.forwardRef=function(S){return{$$typeof:h,render:S}},re.isValidElement=xt,re.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:st}},re.memo=function(S,x){return{$$typeof:g,type:S,compare:x===void 0?null:x}},re.startTransition=function(S){var x=F.transition;F.transition={};try{S()}finally{F.transition=x}},re.unstable_act=j,re.useCallback=function(S,x){return Re.current.useCallback(S,x)},re.useContext=function(S){return Re.current.useContext(S)},re.useDebugValue=function(){},re.useDeferredValue=function(S){return Re.current.useDeferredValue(S)},re.useEffect=function(S,x){return Re.current.useEffect(S,x)},re.useId=function(){return Re.current.useId()},re.useImperativeHandle=function(S,x,te){return Re.current.useImperativeHandle(S,x,te)},re.useInsertionEffect=function(S,x){return Re.current.useInsertionEffect(S,x)},re.useLayoutEffect=function(S,x){return Re.current.useLayoutEffect(S,x)},re.useMemo=function(S,x){return Re.current.useMemo(S,x)},re.useReducer=function(S,x,te){return Re.current.useReducer(S,x,te)},re.useRef=function(S){return Re.current.useRef(S)},re.useState=function(S){return Re.current.useState(S)},re.useSyncExternalStore=function(S,x,te){return Re.current.useSyncExternalStore(S,x,te)},re.useTransition=function(){return Re.current.useTransition()},re.version="18.3.1",re}var Yh;function tl(){return Yh||(Yh=1,ma.exports=ev()),ma.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function tv(){if(Xh)return Ui;Xh=1;var i=tl(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function f(h,m,g){var v,y={},C=null,N=null;g!==void 0&&(C=""+g),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(N=m.ref);for(v in m)o.call(m,v)&&!a.hasOwnProperty(v)&&(y[v]=m[v]);if(h&&h.defaultProps)for(v in m=h.defaultProps,m)y[v]===void 0&&(y[v]=m[v]);return{$$typeof:t,type:h,key:C,ref:N,props:y,_owner:l.current}}return Ui.Fragment=r,Ui.jsx=f,Ui.jsxs=f,Ui}var Jh;function nv(){return Jh||(Jh=1,pa.exports=tv()),pa.exports}var Me=nv(),Ye=tl();const dm=Zy(Ye);var No={},ga={exports:{}},ft={},_a={exports:{}},ya={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function rv(){return Zh||(Zh=1,function(i){function t(F,G){var j=F.length;F.push(G);e:for(;0<j;){var S=j-1>>>1,x=F[S];if(0<l(x,G))F[S]=G,F[j]=x,j=S;else break e}}function r(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var G=F[0],j=F.pop();if(j!==G){F[0]=j;e:for(var S=0,x=F.length,te=x>>>1;S<te;){var oe=2*(S+1)-1,ae=F[oe],ce=oe+1,_e=F[ce];if(0>l(ae,j))ce<x&&0>l(_e,ae)?(F[S]=_e,F[ce]=j,S=ce):(F[S]=ae,F[oe]=j,S=oe);else if(ce<x&&0>l(_e,j))F[S]=_e,F[ce]=j,S=ce;else break e}}return G}function l(F,G){var j=F.sortIndex-G.sortIndex;return j!==0?j:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],g=[],v=1,y=null,C=3,N=!1,A=!1,b=!1,L=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(F){for(var G=r(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=F)o(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=r(g)}}function Q(F){if(b=!1,K(F),!A)if(r(m)!==null)A=!0,st(Z);else{var G=r(g);G!==null&&Re(Q,G.startTime-F)}}function Z(F,G){A=!1,b&&(b=!1,ne(ee),ee=-1),N=!0;var j=C;try{for(K(G),y=r(m);y!==null&&(!(y.expirationTime>G)||F&&!Xt());){var S=y.callback;if(typeof S=="function"){y.callback=null,C=y.priorityLevel;var x=S(y.expirationTime<=G);G=i.unstable_now(),typeof x=="function"?y.callback=x:y===r(m)&&o(m),K(G)}else o(m);y=r(m)}if(y!==null)var te=!0;else{var oe=r(g);oe!==null&&Re(Q,oe.startTime-G),te=!1}return te}finally{y=null,C=j,N=!1}}var X=!1,he=null,ee=-1,$e=5,xt=-1;function Xt(){return!(i.unstable_now()-xt<$e)}function Wt(){if(he!==null){var F=i.unstable_now();xt=F;var G=!0;try{G=he(!0,F)}finally{G?pt():(X=!1,he=null)}}else X=!1}var pt;if(typeof J=="function")pt=function(){J(Wt)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,Ht=Pt.port2;Pt.port1.onmessage=Wt,pt=function(){Ht.postMessage(null)}}else pt=function(){L(Wt,0)};function st(F){he=F,X||(X=!0,pt())}function Re(F,G){ee=L(function(){F(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_continueExecution=function(){A||N||(A=!0,st(Z))},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$e=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(F){switch(C){case 1:case 2:case 3:var G=3;break;default:G=C}var j=C;C=G;try{return F()}finally{C=j}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=C;C=F;try{return G()}finally{C=j}},i.unstable_scheduleCallback=function(F,G,j){var S=i.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?S+j:S):j=S,F){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=j+x,F={id:v++,callback:G,priorityLevel:F,startTime:j,expirationTime:x,sortIndex:-1},j>S?(F.sortIndex=j,t(g,F),r(m)===null&&F===r(g)&&(b?(ne(ee),ee=-1):b=!0,Re(Q,j-S))):(F.sortIndex=x,t(m,F),A||N||(A=!0,st(Z))),F},i.unstable_shouldYield=Xt,i.unstable_wrapCallback=function(F){var G=C;return function(){var j=C;C=G;try{return F.apply(this,arguments)}finally{C=j}}}}(ya)),ya}var ep;function iv(){return ep||(ep=1,_a.exports=rv()),_a.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function sv(){if(tp)return ft;tp=1;var i=tl(),t=iv();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function a(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function C(e){return m.call(y,e)?!0:m.call(v,e)?!1:g.test(e)?y[e]=!0:(v[e]=!0,!1)}function N(e,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,n,s,u){if(n===null||typeof n>"u"||N(e,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function b(e,n,s,u,c,d,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=p}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];L[n]=new b(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ne,J);L[n]=new b(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ne,J);L[n]=new b(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ne,J);L[n]=new b(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,n,s,u){var c=L.hasOwnProperty(n)?L[n]:null;(c!==null?c.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(A(n,s,c,u)&&(s=null),u||c===null?C(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,u=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,u?e.setAttributeNS(u,n,s):e.setAttribute(n,s))))}var Q=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),X=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),$e=Symbol.for("react.profiler"),xt=Symbol.for("react.provider"),Xt=Symbol.for("react.context"),Wt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),Ht=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,S;function x(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var te=!1;function oe(e,n){if(!e||te)return"";te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var u=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){u=T}e.call(n.prototype)}else{try{throw Error()}catch(T){u=T}e()}}catch(T){if(T&&u&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),d=u.stack.split(`
`),p=c.length-1,_=d.length-1;1<=p&&0<=_&&c[p]!==d[_];)_--;for(;1<=p&&0<=_;p--,_--)if(c[p]!==d[_]){if(p!==1||_!==1)do if(p--,_--,0>_||c[p]!==d[_]){var w=`
`+c[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=_);break}}}finally{te=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?x(e):""}function ae(e){switch(e.tag){case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case he:return"Fragment";case X:return"Portal";case $e:return"Profiler";case ee:return"StrictMode";case pt:return"Suspense";case Pt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xt:return(e.displayName||"Context")+".Consumer";case xt:return(e._context.displayName||"Context")+".Provider";case Wt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ht:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case st:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}function _e(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(n);case 8:return n===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mt(e){var n=ke(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){u=""+p,d.call(this,p)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function gs(e){e._valueTracker||(e._valueTracker=mt(e))}function ef(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return e&&(u=ke(e)?e.checked?"true":"false":e.value),e=u,e!==s?(n.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function El(e,n){var s=n.checked;return j({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function tf(e,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=pe(n.value!=null?n.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function nf(e,n){n=n.checked,n!=null&&K(e,"checked",n,!1)}function Cl(e,n){nf(e,n);var s=pe(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Sl(e,n.type,s):n.hasOwnProperty("defaultValue")&&Sl(e,n.type,pe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function rf(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Sl(e,n,s){(n!=="number"||_s(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Zr=Array.isArray;function fr(e,n,s,u){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&u&&(e[s].defaultSelected=!0)}else{for(s=""+pe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,u&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function kl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return j({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sf(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Zr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:pe(s)}}function of(e,n){var s=pe(n.value),u=pe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function lf(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function uf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?uf(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,af=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,u,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ei(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n_=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(e){n_.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ti[n]=ti[e]})});function cf(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ti.hasOwnProperty(e)&&ti[e]?(""+n).trim():n+"px"}function ff(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,c=cf(s,n[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,c):e[s]=c}}var r_=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tl(e,n){if(n){if(r_[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Nl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,dr=null,hr=null;function df(e){if(e=Si(e)){if(typeof Pl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Bs(n),Pl(e.stateNode,e.type,n))}}function hf(e){dr?hr?hr.push(e):hr=[e]:dr=e}function pf(){if(dr){var e=dr,n=hr;if(hr=dr=null,df(e),n)for(e=0;e<n.length;e++)df(n[e])}}function mf(e,n){return e(n)}function gf(){}var Dl=!1;function _f(e,n,s){if(Dl)return e(n,s);Dl=!0;try{return mf(e,n,s)}finally{Dl=!1,(dr!==null||hr!==null)&&(gf(),pf())}}function ni(e,n){var s=e.stateNode;if(s===null)return null;var u=Bs(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Al=!1;if(h)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Al=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Al=!1}function i_(e,n,s,u,c,d,p,_,w){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(P){this.onError(P)}}var ii=!1,vs=null,ws=!1,Ol=null,s_={onError:function(e){ii=!0,vs=e}};function o_(e,n,s,u,c,d,p,_,w){ii=!1,vs=null,i_.apply(s_,arguments)}function l_(e,n,s,u,c,d,p,_,w){if(o_.apply(this,arguments),ii){if(ii){var T=vs;ii=!1,vs=null}else throw Error(r(198));ws||(ws=!0,Ol=T)}}function jn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function yf(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function vf(e){if(jn(e)!==e)throw Error(r(188))}function u_(e){var n=e.alternate;if(!n){if(n=jn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,u=n;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(u=c.return,u!==null){s=u;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return vf(c),e;if(d===u)return vf(c),n;d=d.sibling}throw Error(r(188))}if(s.return!==u.return)s=c,u=d;else{for(var p=!1,_=c.child;_;){if(_===s){p=!0,s=c,u=d;break}if(_===u){p=!0,u=c,s=d;break}_=_.sibling}if(!p){for(_=d.child;_;){if(_===s){p=!0,s=d,u=c;break}if(_===u){p=!0,u=d,s=c;break}_=_.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function wf(e){return e=u_(e),e!==null?Ef(e):null}function Ef(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ef(e);if(n!==null)return n;e=e.sibling}return null}var Cf=t.unstable_scheduleCallback,Sf=t.unstable_cancelCallback,a_=t.unstable_shouldYield,c_=t.unstable_requestPaint,Ae=t.unstable_now,f_=t.unstable_getCurrentPriorityLevel,Ml=t.unstable_ImmediatePriority,kf=t.unstable_UserBlockingPriority,Es=t.unstable_NormalPriority,d_=t.unstable_LowPriority,If=t.unstable_IdlePriority,Cs=null,Vt=null;function h_(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Cs,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:g_,p_=Math.log,m_=Math.LN2;function g_(e){return e>>>=0,e===0?32:31-(p_(e)/m_|0)|0}var Ss=64,ks=4194304;function si(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Is(e,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes,p=s&268435455;if(p!==0){var _=p&~c;_!==0?u=si(_):(d&=p,d!==0&&(u=si(d)))}else p=s&~c,p!==0?u=si(p):d!==0&&(u=si(d));if(u===0)return 0;if(n!==0&&n!==u&&!(n&c)&&(c=u&-u,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(u&4&&(u|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)s=31-Dt(n),c=1<<s,u|=e[s],n&=~c;return u}function __(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y_(e,n){for(var s=e.suspendedLanes,u=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-Dt(d),_=1<<p,w=c[p];w===-1?(!(_&s)||_&u)&&(c[p]=__(_,n)):w<=n&&(e.expiredLanes|=_),d&=~_}}function Ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tf(){var e=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),e}function Fl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function oi(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Dt(n),e[n]=s}function v_(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Dt(s),d=1<<c;n[c]=0,u[c]=-1,e[c]=-1,s&=~d}}function zl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var u=31-Dt(s),c=1<<u;c&n|e[u]&n&&(e[u]|=n),s&=~c}}var me=0;function Nf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rf,bl,xf,Pf,Df,Ul=!1,Ts=[],hn=null,pn=null,mn=null,li=new Map,ui=new Map,gn=[],w_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":li.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(n.pointerId)}}function ai(e,n,s,u,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[c]},n!==null&&(n=Si(n),n!==null&&bl(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function E_(e,n,s,u,c){switch(n){case"focusin":return hn=ai(hn,e,n,s,u,c),!0;case"dragenter":return pn=ai(pn,e,n,s,u,c),!0;case"mouseover":return mn=ai(mn,e,n,s,u,c),!0;case"pointerover":var d=c.pointerId;return li.set(d,ai(li.get(d)||null,e,n,s,u,c)),!0;case"gotpointercapture":return d=c.pointerId,ui.set(d,ai(ui.get(d)||null,e,n,s,u,c)),!0}return!1}function Of(e){var n=Bn(e.target);if(n!==null){var s=jn(n);if(s!==null){if(n=s.tag,n===13){if(n=yf(s),n!==null){e.blockedOn=n,Df(e.priority,function(){xf(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Bl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Rl=u,s.target.dispatchEvent(u),Rl=null}else return n=Si(s),n!==null&&bl(n),e.blockedOn=s,!1;n.shift()}return!0}function Mf(e,n,s){Ns(e)&&s.delete(n)}function C_(){Ul=!1,hn!==null&&Ns(hn)&&(hn=null),pn!==null&&Ns(pn)&&(pn=null),mn!==null&&Ns(mn)&&(mn=null),li.forEach(Mf),ui.forEach(Mf)}function ci(e,n){e.blockedOn===n&&(e.blockedOn=null,Ul||(Ul=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,C_)))}function fi(e){function n(c){return ci(c,e)}if(0<Ts.length){ci(Ts[0],e);for(var s=1;s<Ts.length;s++){var u=Ts[s];u.blockedOn===e&&(u.blockedOn=null)}}for(hn!==null&&ci(hn,e),pn!==null&&ci(pn,e),mn!==null&&ci(mn,e),li.forEach(n),ui.forEach(n),s=0;s<gn.length;s++)u=gn[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<gn.length&&(s=gn[0],s.blockedOn===null);)Of(s),s.blockedOn===null&&gn.shift()}var pr=Q.ReactCurrentBatchConfig,Rs=!0;function S_(e,n,s,u){var c=me,d=pr.transition;pr.transition=null;try{me=1,jl(e,n,s,u)}finally{me=c,pr.transition=d}}function k_(e,n,s,u){var c=me,d=pr.transition;pr.transition=null;try{me=4,jl(e,n,s,u)}finally{me=c,pr.transition=d}}function jl(e,n,s,u){if(Rs){var c=Bl(e,n,s,u);if(c===null)iu(e,n,u,xs,s),Af(e,u);else if(E_(c,e,n,s,u))u.stopPropagation();else if(Af(e,u),n&4&&-1<w_.indexOf(e)){for(;c!==null;){var d=Si(c);if(d!==null&&Rf(d),d=Bl(e,n,s,u),d===null&&iu(e,n,u,xs,s),d===c)break;c=d}c!==null&&u.stopPropagation()}else iu(e,n,u,null,s)}}var xs=null;function Bl(e,n,s,u){if(xs=null,e=xl(u),e=Bn(e),e!==null)if(n=jn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=yf(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return xs=e,null}function Lf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f_()){case Ml:return 1;case kf:return 4;case Es:case d_:return 16;case If:return 536870912;default:return 16}default:return 16}}var _n=null,Wl=null,Ps=null;function Ff(){if(Ps)return Ps;var e,n=Wl,s=n.length,u,c="value"in _n?_n.value:_n.textContent,d=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(u=1;u<=p&&n[s-u]===c[d-u];u++);return Ps=c.slice(e,1<u?1-u:void 0)}function Ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function zf(){return!1}function gt(e){function n(s,u,c,d,p){this._reactName=s,this._targetInst=c,this.type=u,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?As:zf,this.isPropagationStopped=zf,this}return j(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),n}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=gt(mr),di=j({},mr,{view:0,detail:0}),I_=gt(di),Vl,$l,hi,Os=j({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(Vl=e.screenX-hi.screenX,$l=e.screenY-hi.screenY):$l=Vl=0,hi=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:$l}}),bf=gt(Os),T_=j({},Os,{dataTransfer:0}),N_=gt(T_),R_=j({},di,{relatedTarget:0}),Ql=gt(R_),x_=j({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),P_=gt(x_),D_=j({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A_=gt(D_),O_=j({},mr,{data:0}),Uf=gt(O_),M_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=F_[e])?!!n[e]:!1}function Gl(){return z_}var b_=j({},di,{key:function(e){if(e.key){var n=M_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gl,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U_=gt(b_),j_=j({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=gt(j_),B_=j({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gl}),W_=gt(B_),H_=j({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=gt(H_),$_=j({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q_=gt($_),G_=[9,13,27,32],Kl=h&&"CompositionEvent"in window,pi=null;h&&"documentMode"in document&&(pi=document.documentMode);var K_=h&&"TextEvent"in window&&!pi,Bf=h&&(!Kl||pi&&8<pi&&11>=pi),Wf=" ",Hf=!1;function Vf(e,n){switch(e){case"keyup":return G_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function q_(e,n){switch(e){case"compositionend":return $f(n);case"keypress":return n.which!==32?null:(Hf=!0,Wf);case"textInput":return e=n.data,e===Wf&&Hf?null:e;default:return null}}function Y_(e,n){if(gr)return e==="compositionend"||!Kl&&Vf(e,n)?(e=Ff(),Ps=Wl=_n=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bf&&n.locale!=="ko"?null:n.data;default:return null}}var X_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!X_[e.type]:n==="textarea"}function Gf(e,n,s,u){hf(u),n=bs(n,"onChange"),0<n.length&&(s=new Hl("onChange","change",null,s,u),e.push({event:s,listeners:n}))}var mi=null,gi=null;function J_(e){fd(e,0)}function Ms(e){var n=Er(e);if(ef(n))return e}function Z_(e,n){if(e==="change")return n}var Kf=!1;if(h){var ql;if(h){var Yl="oninput"in document;if(!Yl){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Yl=typeof qf.oninput=="function"}ql=Yl}else ql=!1;Kf=ql&&(!document.documentMode||9<document.documentMode)}function Yf(){mi&&(mi.detachEvent("onpropertychange",Xf),gi=mi=null)}function Xf(e){if(e.propertyName==="value"&&Ms(gi)){var n=[];Gf(n,gi,e,xl(e)),_f(J_,n)}}function ey(e,n,s){e==="focusin"?(Yf(),mi=n,gi=s,mi.attachEvent("onpropertychange",Xf)):e==="focusout"&&Yf()}function ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(gi)}function ny(e,n){if(e==="click")return Ms(n)}function ry(e,n){if(e==="input"||e==="change")return Ms(n)}function iy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:iy;function _i(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var c=s[u];if(!m.call(n,c)||!At(e[c],n[c]))return!1}return!0}function Jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zf(e,n){var s=Jf(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=n&&u>=n)return{node:s,offset:n-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jf(s)}}function ed(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ed(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function td(){for(var e=window,n=_s();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=_s(e.document)}return n}function Xl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function sy(e){var n=td(),s=e.focusedElem,u=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&ed(s.ownerDocument.documentElement,s)){if(u!==null&&Xl(s)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,d=Math.min(u.start,c);u=u.end===void 0?d:Math.min(u.end,c),!e.extend&&d>u&&(c=u,u=d,d=c),c=Zf(s,d);var p=Zf(s,u);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>u?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oy=h&&"documentMode"in document&&11>=document.documentMode,_r=null,Jl=null,yi=null,Zl=!1;function nd(e,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zl||_r==null||_r!==_s(u)||(u=_r,"selectionStart"in u&&Xl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yi&&_i(yi,u)||(yi=u,u=bs(Jl,"onSelect"),0<u.length&&(n=new Hl("onSelect","select",null,n,s),e.push({event:n,listeners:u}),n.target=_r)))}function Ls(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var yr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},eu={},rd={};h&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Fs(e){if(eu[e])return eu[e];if(!yr[e])return e;var n=yr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in rd)return eu[e]=n[s];return e}var id=Fs("animationend"),sd=Fs("animationiteration"),od=Fs("animationstart"),ld=Fs("transitionend"),ud=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){ud.set(e,n),a(n,[e])}for(var tu=0;tu<ad.length;tu++){var nu=ad[tu],ly=nu.toLowerCase(),uy=nu[0].toUpperCase()+nu.slice(1);yn(ly,"on"+uy)}yn(id,"onAnimationEnd"),yn(sd,"onAnimationIteration"),yn(od,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(ld,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function cd(e,n,s){var u=e.type||"unknown-event";e.currentTarget=s,l_(u,n,void 0,e),e.currentTarget=null}function fd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],c=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var p=u.length-1;0<=p;p--){var _=u[p],w=_.instance,T=_.currentTarget;if(_=_.listener,w!==d&&c.isPropagationStopped())break e;cd(c,_,T),d=w}else for(p=0;p<u.length;p++){if(_=u[p],w=_.instance,T=_.currentTarget,_=_.listener,w!==d&&c.isPropagationStopped())break e;cd(c,_,T),d=w}}}if(ws)throw e=Ol,ws=!1,Ol=null,e}function Ce(e,n){var s=n[cu];s===void 0&&(s=n[cu]=new Set);var u=e+"__bubble";s.has(u)||(dd(n,e,2,!1),s.add(u))}function ru(e,n,s){var u=0;n&&(u|=4),dd(s,e,u,n)}var zs="_reactListening"+Math.random().toString(36).slice(2);function wi(e){if(!e[zs]){e[zs]=!0,o.forEach(function(s){s!=="selectionchange"&&(ay.has(s)||ru(s,!1,e),ru(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zs]||(n[zs]=!0,ru("selectionchange",!1,n))}}function dd(e,n,s,u){switch(Lf(n)){case 1:var c=S_;break;case 4:c=k_;break;default:c=jl}s=c.bind(null,n,s,e),c=void 0,!Al||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),u?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function iu(e,n,s,u,c){var d=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var _=u.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(p===4)for(p=u.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;p=p.return}for(;_!==null;){if(p=Bn(_),p===null)return;if(w=p.tag,w===5||w===6){u=d=p;continue e}_=_.parentNode}}u=u.return}_f(function(){var T=d,P=xl(s),D=[];e:{var R=ud.get(e);if(R!==void 0){var z=Hl,B=e;switch(e){case"keypress":if(Ds(s)===0)break e;case"keydown":case"keyup":z=U_;break;case"focusin":B="focus",z=Ql;break;case"focusout":B="blur",z=Ql;break;case"beforeblur":case"afterblur":z=Ql;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=N_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=W_;break;case id:case sd:case od:z=P_;break;case ld:z=V_;break;case"scroll":z=I_;break;case"wheel":z=Q_;break;case"copy":case"cut":case"paste":z=A_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=jf}var W=(n&4)!==0,Oe=!W&&e==="scroll",k=W?R!==null?R+"Capture":null:R;W=[];for(var E=T,I;E!==null;){I=E;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,k!==null&&(O=ni(E,k),O!=null&&W.push(Ei(E,O,I)))),Oe)break;E=E.return}0<W.length&&(R=new z(R,B,null,s,P),D.push({event:R,listeners:W}))}}if(!(n&7)){e:{if(R=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",R&&s!==Rl&&(B=s.relatedTarget||s.fromElement)&&(Bn(B)||B[Jt]))break e;if((z||R)&&(R=P.window===P?P:(R=P.ownerDocument)?R.defaultView||R.parentWindow:window,z?(B=s.relatedTarget||s.toElement,z=T,B=B?Bn(B):null,B!==null&&(Oe=jn(B),B!==Oe||B.tag!==5&&B.tag!==6)&&(B=null)):(z=null,B=T),z!==B)){if(W=bf,O="onMouseLeave",k="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(W=jf,O="onPointerLeave",k="onPointerEnter",E="pointer"),Oe=z==null?R:Er(z),I=B==null?R:Er(B),R=new W(O,E+"leave",z,s,P),R.target=Oe,R.relatedTarget=I,O=null,Bn(P)===T&&(W=new W(k,E+"enter",B,s,P),W.target=I,W.relatedTarget=Oe,O=W),Oe=O,z&&B)t:{for(W=z,k=B,E=0,I=W;I;I=vr(I))E++;for(I=0,O=k;O;O=vr(O))I++;for(;0<E-I;)W=vr(W),E--;for(;0<I-E;)k=vr(k),I--;for(;E--;){if(W===k||k!==null&&W===k.alternate)break t;W=vr(W),k=vr(k)}W=null}else W=null;z!==null&&hd(D,R,z,W,!1),B!==null&&Oe!==null&&hd(D,Oe,B,W,!0)}}e:{if(R=T?Er(T):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var H=Z_;else if(Qf(R))if(Kf)H=ry;else{H=ty;var V=ey}else(z=R.nodeName)&&z.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(H=ny);if(H&&(H=H(e,T))){Gf(D,H,s,P);break e}V&&V(e,R,T),e==="focusout"&&(V=R._wrapperState)&&V.controlled&&R.type==="number"&&Sl(R,"number",R.value)}switch(V=T?Er(T):window,e){case"focusin":(Qf(V)||V.contentEditable==="true")&&(_r=V,Jl=T,yi=null);break;case"focusout":yi=Jl=_r=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,nd(D,s,P);break;case"selectionchange":if(oy)break;case"keydown":case"keyup":nd(D,s,P)}var $;if(Kl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else gr?Vf(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(Bf&&s.locale!=="ko"&&(gr||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&gr&&($=Ff()):(_n=P,Wl="value"in _n?_n.value:_n.textContent,gr=!0)),V=bs(T,Y),0<V.length&&(Y=new Uf(Y,e,null,s,P),D.push({event:Y,listeners:V}),$?Y.data=$:($=$f(s),$!==null&&(Y.data=$)))),($=K_?q_(e,s):Y_(e,s))&&(T=bs(T,"onBeforeInput"),0<T.length&&(P=new Uf("onBeforeInput","beforeinput",null,s,P),D.push({event:P,listeners:T}),P.data=$))}fd(D,n)})}function Ei(e,n,s){return{instance:e,listener:n,currentTarget:s}}function bs(e,n){for(var s=n+"Capture",u=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=ni(e,s),d!=null&&u.unshift(Ei(e,d,c)),d=ni(e,n),d!=null&&u.push(Ei(e,d,c))),e=e.return}return u}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hd(e,n,s,u,c){for(var d=n._reactName,p=[];s!==null&&s!==u;){var _=s,w=_.alternate,T=_.stateNode;if(w!==null&&w===u)break;_.tag===5&&T!==null&&(_=T,c?(w=ni(s,d),w!=null&&p.unshift(Ei(s,w,_))):c||(w=ni(s,d),w!=null&&p.push(Ei(s,w,_)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var cy=/\r\n?/g,fy=/\u0000|\uFFFD/g;function pd(e){return(typeof e=="string"?e:""+e).replace(cy,`
`).replace(fy,"")}function Us(e,n,s){if(n=pd(n),pd(e)!==n&&s)throw Error(r(425))}function js(){}var su=null,ou=null;function lu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uu=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(e){return md.resolve(null).then(e).catch(py)}:uu;function py(e){setTimeout(function(){throw e})}function au(e,n){var s=n,u=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(u===0){e.removeChild(c),fi(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=c}while(s);fi(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function gd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var wr=Math.random().toString(36).slice(2),$t="__reactFiber$"+wr,Ci="__reactProps$"+wr,Jt="__reactContainer$"+wr,cu="__reactEvents$"+wr,my="__reactListeners$"+wr,gy="__reactHandles$"+wr;function Bn(e){var n=e[$t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Jt]||s[$t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=gd(e);e!==null;){if(s=e[$t])return s;e=gd(e)}return n}e=s,s=e.parentNode}return null}function Si(e){return e=e[$t]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Bs(e){return e[Ci]||null}var fu=[],Cr=-1;function wn(e){return{current:e}}function Se(e){0>Cr||(e.current=fu[Cr],fu[Cr]=null,Cr--)}function ye(e,n){Cr++,fu[Cr]=e.current,e.current=n}var En={},Je=wn(En),ot=wn(!1),Wn=En;function Sr(e,n){var s=e.type.contextTypes;if(!s)return En;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=n[d];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function lt(e){return e=e.childContextTypes,e!=null}function Ws(){Se(ot),Se(Je)}function _d(e,n,s){if(Je.current!==En)throw Error(r(168));ye(Je,n),ye(ot,s)}function yd(e,n,s){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var c in u)if(!(c in n))throw Error(r(108,_e(e)||"Unknown",c));return j({},s,u)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Wn=Je.current,ye(Je,e),ye(ot,ot.current),!0}function vd(e,n,s){var u=e.stateNode;if(!u)throw Error(r(169));s?(e=yd(e,n,Wn),u.__reactInternalMemoizedMergedChildContext=e,Se(ot),Se(Je),ye(Je,e)):Se(ot),ye(ot,s)}var Zt=null,Vs=!1,du=!1;function wd(e){Zt===null?Zt=[e]:Zt.push(e)}function _y(e){Vs=!0,wd(e)}function Cn(){if(!du&&Zt!==null){du=!0;var e=0,n=me;try{var s=Zt;for(me=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Zt=null,Vs=!1}catch(c){throw Zt!==null&&(Zt=Zt.slice(e+1)),Cf(Ml,Cn),c}finally{me=n,du=!1}}return null}var kr=[],Ir=0,$s=null,Qs=0,Ct=[],St=0,Hn=null,en=1,tn="";function Vn(e,n){kr[Ir++]=Qs,kr[Ir++]=$s,$s=e,Qs=n}function Ed(e,n,s){Ct[St++]=en,Ct[St++]=tn,Ct[St++]=Hn,Hn=e;var u=en;e=tn;var c=32-Dt(u)-1;u&=~(1<<c),s+=1;var d=32-Dt(n)+c;if(30<d){var p=c-c%5;d=(u&(1<<p)-1).toString(32),u>>=p,c-=p,en=1<<32-Dt(n)+c|s<<c|u,tn=d+e}else en=1<<d|s<<c|u,tn=e}function hu(e){e.return!==null&&(Vn(e,1),Ed(e,1,0))}function pu(e){for(;e===$s;)$s=kr[--Ir],kr[Ir]=null,Qs=kr[--Ir],kr[Ir]=null;for(;e===Hn;)Hn=Ct[--St],Ct[St]=null,tn=Ct[--St],Ct[St]=null,en=Ct[--St],Ct[St]=null}var _t=null,yt=null,Ie=!1,Ot=null;function Cd(e,n){var s=Nt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Sd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,_t=e,yt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,_t=e,yt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Hn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Nt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,_t=e,yt=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gu(e){if(Ie){var n=yt;if(n){var s=n;if(!Sd(e,n)){if(mu(e))throw Error(r(418));n=vn(s.nextSibling);var u=_t;n&&Sd(e,n)?Cd(u,s):(e.flags=e.flags&-4097|2,Ie=!1,_t=e)}}else{if(mu(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ie=!1,_t=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Gs(e){if(e!==_t)return!1;if(!Ie)return kd(e),Ie=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!lu(e.type,e.memoizedProps)),n&&(n=yt)){if(mu(e))throw Id(),Error(r(418));for(;n;)Cd(e,n),n=vn(n.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){yt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}yt=null}}else yt=_t?vn(e.stateNode.nextSibling):null;return!0}function Id(){for(var e=yt;e;)e=vn(e.nextSibling)}function Tr(){yt=_t=null,Ie=!1}function _u(e){Ot===null?Ot=[e]:Ot.push(e)}var yy=Q.ReactCurrentBatchConfig;function ki(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,e));var c=u,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(p){var _=c.refs;p===null?delete _[d]:_[d]=p},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Ks(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Td(e){var n=e._init;return n(e._payload)}function Nd(e){function n(k,E){if(e){var I=k.deletions;I===null?(k.deletions=[E],k.flags|=16):I.push(E)}}function s(k,E){if(!e)return null;for(;E!==null;)n(k,E),E=E.sibling;return null}function u(k,E){for(k=new Map;E!==null;)E.key!==null?k.set(E.key,E):k.set(E.index,E),E=E.sibling;return k}function c(k,E){return k=Pn(k,E),k.index=0,k.sibling=null,k}function d(k,E,I){return k.index=I,e?(I=k.alternate,I!==null?(I=I.index,I<E?(k.flags|=2,E):I):(k.flags|=2,E)):(k.flags|=1048576,E)}function p(k){return e&&k.alternate===null&&(k.flags|=2),k}function _(k,E,I,O){return E===null||E.tag!==6?(E=ua(I,k.mode,O),E.return=k,E):(E=c(E,I),E.return=k,E)}function w(k,E,I,O){var H=I.type;return H===he?P(k,E,I.props.children,O,I.key):E!==null&&(E.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===st&&Td(H)===E.type)?(O=c(E,I.props),O.ref=ki(k,E,I),O.return=k,O):(O=vo(I.type,I.key,I.props,null,k.mode,O),O.ref=ki(k,E,I),O.return=k,O)}function T(k,E,I,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=aa(I,k.mode,O),E.return=k,E):(E=c(E,I.children||[]),E.return=k,E)}function P(k,E,I,O,H){return E===null||E.tag!==7?(E=Jn(I,k.mode,O,H),E.return=k,E):(E=c(E,I),E.return=k,E)}function D(k,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ua(""+E,k.mode,I),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Z:return I=vo(E.type,E.key,E.props,null,k.mode,I),I.ref=ki(k,null,E),I.return=k,I;case X:return E=aa(E,k.mode,I),E.return=k,E;case st:var O=E._init;return D(k,O(E._payload),I)}if(Zr(E)||G(E))return E=Jn(E,k.mode,I,null),E.return=k,E;Ks(k,E)}return null}function R(k,E,I,O){var H=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return H!==null?null:_(k,E,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Z:return I.key===H?w(k,E,I,O):null;case X:return I.key===H?T(k,E,I,O):null;case st:return H=I._init,R(k,E,H(I._payload),O)}if(Zr(I)||G(I))return H!==null?null:P(k,E,I,O,null);Ks(k,I)}return null}function z(k,E,I,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return k=k.get(I)||null,_(E,k,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Z:return k=k.get(O.key===null?I:O.key)||null,w(E,k,O,H);case X:return k=k.get(O.key===null?I:O.key)||null,T(E,k,O,H);case st:var V=O._init;return z(k,E,I,V(O._payload),H)}if(Zr(O)||G(O))return k=k.get(I)||null,P(E,k,O,H,null);Ks(E,O)}return null}function B(k,E,I,O){for(var H=null,V=null,$=E,Y=E=0,je=null;$!==null&&Y<I.length;Y++){$.index>Y?(je=$,$=null):je=$.sibling;var fe=R(k,$,I[Y],O);if(fe===null){$===null&&($=je);break}e&&$&&fe.alternate===null&&n(k,$),E=d(fe,E,Y),V===null?H=fe:V.sibling=fe,V=fe,$=je}if(Y===I.length)return s(k,$),Ie&&Vn(k,Y),H;if($===null){for(;Y<I.length;Y++)$=D(k,I[Y],O),$!==null&&(E=d($,E,Y),V===null?H=$:V.sibling=$,V=$);return Ie&&Vn(k,Y),H}for($=u(k,$);Y<I.length;Y++)je=z($,k,Y,I[Y],O),je!==null&&(e&&je.alternate!==null&&$.delete(je.key===null?Y:je.key),E=d(je,E,Y),V===null?H=je:V.sibling=je,V=je);return e&&$.forEach(function(Dn){return n(k,Dn)}),Ie&&Vn(k,Y),H}function W(k,E,I,O){var H=G(I);if(typeof H!="function")throw Error(r(150));if(I=H.call(I),I==null)throw Error(r(151));for(var V=H=null,$=E,Y=E=0,je=null,fe=I.next();$!==null&&!fe.done;Y++,fe=I.next()){$.index>Y?(je=$,$=null):je=$.sibling;var Dn=R(k,$,fe.value,O);if(Dn===null){$===null&&($=je);break}e&&$&&Dn.alternate===null&&n(k,$),E=d(Dn,E,Y),V===null?H=Dn:V.sibling=Dn,V=Dn,$=je}if(fe.done)return s(k,$),Ie&&Vn(k,Y),H;if($===null){for(;!fe.done;Y++,fe=I.next())fe=D(k,fe.value,O),fe!==null&&(E=d(fe,E,Y),V===null?H=fe:V.sibling=fe,V=fe);return Ie&&Vn(k,Y),H}for($=u(k,$);!fe.done;Y++,fe=I.next())fe=z($,k,Y,fe.value,O),fe!==null&&(e&&fe.alternate!==null&&$.delete(fe.key===null?Y:fe.key),E=d(fe,E,Y),V===null?H=fe:V.sibling=fe,V=fe);return e&&$.forEach(function(Yy){return n(k,Yy)}),Ie&&Vn(k,Y),H}function Oe(k,E,I,O){if(typeof I=="object"&&I!==null&&I.type===he&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Z:e:{for(var H=I.key,V=E;V!==null;){if(V.key===H){if(H=I.type,H===he){if(V.tag===7){s(k,V.sibling),E=c(V,I.props.children),E.return=k,k=E;break e}}else if(V.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===st&&Td(H)===V.type){s(k,V.sibling),E=c(V,I.props),E.ref=ki(k,V,I),E.return=k,k=E;break e}s(k,V);break}else n(k,V);V=V.sibling}I.type===he?(E=Jn(I.props.children,k.mode,O,I.key),E.return=k,k=E):(O=vo(I.type,I.key,I.props,null,k.mode,O),O.ref=ki(k,E,I),O.return=k,k=O)}return p(k);case X:e:{for(V=I.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){s(k,E.sibling),E=c(E,I.children||[]),E.return=k,k=E;break e}else{s(k,E);break}else n(k,E);E=E.sibling}E=aa(I,k.mode,O),E.return=k,k=E}return p(k);case st:return V=I._init,Oe(k,E,V(I._payload),O)}if(Zr(I))return B(k,E,I,O);if(G(I))return W(k,E,I,O);Ks(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(s(k,E.sibling),E=c(E,I),E.return=k,k=E):(s(k,E),E=ua(I,k.mode,O),E.return=k,k=E),p(k)):s(k,E)}return Oe}var Nr=Nd(!0),Rd=Nd(!1),qs=wn(null),Ys=null,Rr=null,yu=null;function vu(){yu=Rr=Ys=null}function wu(e){var n=qs.current;Se(qs),e._currentValue=n}function Eu(e,n,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===s)break;e=e.return}}function xr(e,n){Ys=e,yu=Rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ut=!0),e.firstContext=null)}function kt(e){var n=e._currentValue;if(yu!==e)if(e={context:e,memoizedValue:n,next:null},Rr===null){if(Ys===null)throw Error(r(308));Rr=e,Ys.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return n}var $n=null;function Cu(e){$n===null?$n=[e]:$n.push(e)}function xd(e,n,s,u){var c=n.interleaved;return c===null?(s.next=s,Cu(n)):(s.next=c.next,c.next=s),n.interleaved=s,nn(e,u)}function nn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Sn=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kn(e,n,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,ue&2){var c=u.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),u.pending=n,nn(e,s)}return c=u.interleaved,c===null?(n.next=n,Cu(u)):(n.next=c.next,c.next=n),u.interleaved=n,nn(e,s)}function Xs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,zl(e,s)}}function Dd(e,n){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=p:d=d.next=p,s=s.next}while(s!==null);d===null?c=d=n:d=d.next=n}else c=d=n;s={baseState:u.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Js(e,n,s,u){var c=e.updateQueue;Sn=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var w=_,T=w.next;w.next=null,p===null?d=T:p.next=T,p=w;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==p&&(_===null?P.firstBaseUpdate=T:_.next=T,P.lastBaseUpdate=w))}if(d!==null){var D=c.baseState;p=0,P=T=w=null,_=d;do{var R=_.lane,z=_.eventTime;if((u&R)===R){P!==null&&(P=P.next={eventTime:z,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,W=_;switch(R=n,z=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){D=B.call(z,D,R);break e}D=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,R=typeof B=="function"?B.call(z,D,R):B,R==null)break e;D=j({},D,R);break e;case 2:Sn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,R=c.effects,R===null?c.effects=[_]:R.push(_))}else z={eventTime:z,lane:R,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(T=P=z,w=D):P=P.next=z,p|=R;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(P===null&&(w=D),c.baseState=w,c.firstBaseUpdate=T,c.lastBaseUpdate=P,n=c.shared.interleaved,n!==null){c=n;do p|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);Kn|=p,e.lanes=p,e.memoizedState=D}}function Ad(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],c=u.callback;if(c!==null){if(u.callback=null,u=s,typeof c!="function")throw Error(r(191,c));c.call(u)}}}var Ii={},Qt=wn(Ii),Ti=wn(Ii),Ni=wn(Ii);function Qn(e){if(e===Ii)throw Error(r(174));return e}function ku(e,n){switch(ye(Ni,n),ye(Ti,e),ye(Qt,Ii),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Il(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Il(n,e)}Se(Qt),ye(Qt,n)}function Pr(){Se(Qt),Se(Ti),Se(Ni)}function Od(e){Qn(Ni.current);var n=Qn(Qt.current),s=Il(n,e.type);n!==s&&(ye(Ti,e),ye(Qt,s))}function Iu(e){Ti.current===e&&(Se(Qt),Se(Ti))}var Te=wn(0);function Zs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tu=[];function Nu(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var eo=Q.ReactCurrentDispatcher,Ru=Q.ReactCurrentBatchConfig,Gn=0,Ne=null,Fe=null,be=null,to=!1,Ri=!1,xi=0,vy=0;function Ze(){throw Error(r(321))}function xu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!At(e[s],n[s]))return!1;return!0}function Pu(e,n,s,u,c,d){if(Gn=d,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,eo.current=e===null||e.memoizedState===null?Sy:ky,e=s(u,c),Ri){d=0;do{if(Ri=!1,xi=0,25<=d)throw Error(r(301));d+=1,be=Fe=null,n.updateQueue=null,eo.current=Iy,e=s(u,c)}while(Ri)}if(eo.current=io,n=Fe!==null&&Fe.next!==null,Gn=0,be=Fe=Ne=null,to=!1,n)throw Error(r(300));return e}function Du(){var e=xi!==0;return xi=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Ne.memoizedState=be=e:be=be.next=e,be}function It(){if(Fe===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=be===null?Ne.memoizedState:be.next;if(n!==null)be=n,Fe=e;else{if(e===null)throw Error(r(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},be===null?Ne.memoizedState=be=e:be=be.next=e}return be}function Pi(e,n){return typeof n=="function"?n(e):n}function Au(e){var n=It(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=Fe,c=u.baseQueue,d=s.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}u.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,u=u.baseState;var _=p=null,w=null,T=d;do{var P=T.lane;if((Gn&P)===P)w!==null&&(w=w.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),u=T.hasEagerState?T.eagerState:e(u,T.action);else{var D={lane:P,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};w===null?(_=w=D,p=u):w=w.next=D,Ne.lanes|=P,Kn|=P}T=T.next}while(T!==null&&T!==d);w===null?p=u:w.next=_,At(u,n.memoizedState)||(ut=!0),n.memoizedState=u,n.baseState=p,n.baseQueue=w,s.lastRenderedState=u}if(e=s.interleaved,e!==null){c=e;do d=c.lane,Ne.lanes|=d,Kn|=d,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Ou(e){var n=It(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=s.dispatch,c=s.pending,d=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);At(d,n.memoizedState)||(ut=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,u]}function Md(){}function Ld(e,n){var s=Ne,u=It(),c=n(),d=!At(u.memoizedState,c);if(d&&(u.memoizedState=c,ut=!0),u=u.queue,Mu(bd.bind(null,s,u,e),[e]),u.getSnapshot!==n||d||be!==null&&be.memoizedState.tag&1){if(s.flags|=2048,Di(9,zd.bind(null,s,u,c,n),void 0,null),Ue===null)throw Error(r(349));Gn&30||Fd(s,n,c)}return c}function Fd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n={lastEffect:null,stores:null},Ne.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zd(e,n,s,u){n.value=s,n.getSnapshot=u,Ud(n)&&jd(e)}function bd(e,n,s){return s(function(){Ud(n)&&jd(e)})}function Ud(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!At(e,s)}catch{return!0}}function jd(e){var n=nn(e,1);n!==null&&zt(n,e,1,-1)}function Bd(e){var n=Gt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n.queue=e,e=e.dispatch=Cy.bind(null,Ne,e),[n.memoizedState,e]}function Di(e,n,s,u){return e={tag:e,create:n,destroy:s,deps:u,next:null},n=Ne.updateQueue,n===null?(n={lastEffect:null,stores:null},Ne.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,n.lastEffect=e)),e}function Wd(){return It().memoizedState}function no(e,n,s,u){var c=Gt();Ne.flags|=e,c.memoizedState=Di(1|n,s,void 0,u===void 0?null:u)}function ro(e,n,s,u){var c=It();u=u===void 0?null:u;var d=void 0;if(Fe!==null){var p=Fe.memoizedState;if(d=p.destroy,u!==null&&xu(u,p.deps)){c.memoizedState=Di(n,s,d,u);return}}Ne.flags|=e,c.memoizedState=Di(1|n,s,d,u)}function Hd(e,n){return no(8390656,8,e,n)}function Mu(e,n){return ro(2048,8,e,n)}function Vd(e,n){return ro(4,2,e,n)}function $d(e,n){return ro(4,4,e,n)}function Qd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gd(e,n,s){return s=s!=null?s.concat([e]):null,ro(4,4,Qd.bind(null,n,e),s)}function Lu(){}function Kd(e,n){var s=It();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&xu(n,u[1])?u[0]:(s.memoizedState=[e,n],e)}function qd(e,n){var s=It();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&xu(n,u[1])?u[0]:(e=e(),s.memoizedState=[e,n],e)}function Yd(e,n,s){return Gn&21?(At(s,n)||(s=Tf(),Ne.lanes|=s,Kn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=s)}function wy(e,n){var s=me;me=s!==0&&4>s?s:4,e(!0);var u=Ru.transition;Ru.transition={};try{e(!1),n()}finally{me=s,Ru.transition=u}}function Xd(){return It().memoizedState}function Ey(e,n,s){var u=Rn(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},Jd(e))Zd(n,s);else if(s=xd(e,n,s,u),s!==null){var c=rt();zt(s,e,u,c),eh(s,n,u)}}function Cy(e,n,s){var u=Rn(e),c={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jd(e))Zd(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,_=d(p,s);if(c.hasEagerState=!0,c.eagerState=_,At(_,p)){var w=n.interleaved;w===null?(c.next=c,Cu(n)):(c.next=w.next,w.next=c),n.interleaved=c;return}}catch{}finally{}s=xd(e,n,c,u),s!==null&&(c=rt(),zt(s,e,u,c),eh(s,n,u))}}function Jd(e){var n=e.alternate;return e===Ne||n!==null&&n===Ne}function Zd(e,n){Ri=to=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function eh(e,n,s){if(s&4194240){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,zl(e,s)}}var io={readContext:kt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Sy={readContext:kt,useCallback:function(e,n){return Gt().memoizedState=[e,n===void 0?null:n],e},useContext:kt,useEffect:Hd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,no(4194308,4,Qd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return no(4194308,4,e,n)},useInsertionEffect:function(e,n){return no(4,2,e,n)},useMemo:function(e,n){var s=Gt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var u=Gt();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=Ey.bind(null,Ne,e),[u.memoizedState,e]},useRef:function(e){var n=Gt();return e={current:e},n.memoizedState=e},useState:Bd,useDebugValue:Lu,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Bd(!1),n=e[0];return e=wy.bind(null,e[1]),Gt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var u=Ne,c=Gt();if(Ie){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ue===null)throw Error(r(349));Gn&30||Fd(u,n,s)}c.memoizedState=s;var d={value:s,getSnapshot:n};return c.queue=d,Hd(bd.bind(null,u,d,e),[e]),u.flags|=2048,Di(9,zd.bind(null,u,d,s,n),void 0,null),s},useId:function(){var e=Gt(),n=Ue.identifierPrefix;if(Ie){var s=tn,u=en;s=(u&~(1<<32-Dt(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=xi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=vy++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ky={readContext:kt,useCallback:Kd,useContext:kt,useEffect:Mu,useImperativeHandle:Gd,useInsertionEffect:Vd,useLayoutEffect:$d,useMemo:qd,useReducer:Au,useRef:Wd,useState:function(){return Au(Pi)},useDebugValue:Lu,useDeferredValue:function(e){var n=It();return Yd(n,Fe.memoizedState,e)},useTransition:function(){var e=Au(Pi)[0],n=It().memoizedState;return[e,n]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Xd,unstable_isNewReconciler:!1},Iy={readContext:kt,useCallback:Kd,useContext:kt,useEffect:Mu,useImperativeHandle:Gd,useInsertionEffect:Vd,useLayoutEffect:$d,useMemo:qd,useReducer:Ou,useRef:Wd,useState:function(){return Ou(Pi)},useDebugValue:Lu,useDeferredValue:function(e){var n=It();return Fe===null?n.memoizedState=e:Yd(n,Fe.memoizedState,e)},useTransition:function(){var e=Ou(Pi)[0],n=It().memoizedState;return[e,n]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Xd,unstable_isNewReconciler:!1};function Mt(e,n){if(e&&e.defaultProps){n=j({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Fu(e,n,s,u){n=e.memoizedState,s=s(u,n),s=s==null?n:j({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var so={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var u=rt(),c=Rn(e),d=rn(u,c);d.payload=n,s!=null&&(d.callback=s),n=kn(e,d,c),n!==null&&(zt(n,e,c,u),Xs(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var u=rt(),c=Rn(e),d=rn(u,c);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=kn(e,d,c),n!==null&&(zt(n,e,c,u),Xs(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=rt(),u=Rn(e),c=rn(s,u);c.tag=2,n!=null&&(c.callback=n),n=kn(e,c,u),n!==null&&(zt(n,e,u,s),Xs(n,e,u))}};function th(e,n,s,u,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,d,p):n.prototype&&n.prototype.isPureReactComponent?!_i(s,u)||!_i(c,d):!0}function nh(e,n,s){var u=!1,c=En,d=n.contextType;return typeof d=="object"&&d!==null?d=kt(d):(c=lt(n)?Wn:Je.current,u=n.contextTypes,d=(u=u!=null)?Sr(e,c):En),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=so,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function rh(e,n,s,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==e&&so.enqueueReplaceState(n,n.state,null)}function zu(e,n,s,u){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Su(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=kt(d):(d=lt(n)?Wn:Je.current,c.context=Sr(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Fu(e,n,d,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&so.enqueueReplaceState(c,c.state,null),Js(e,s,c,u),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,n){try{var s="",u=n;do s+=ae(u),u=u.return;while(u);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function bu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Uu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Ty=typeof WeakMap=="function"?WeakMap:Map;function ih(e,n,s){s=rn(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){ho||(ho=!0,ea=u),Uu(e,n)},s}function sh(e,n,s){s=rn(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var c=n.value;s.payload=function(){return u(c)},s.callback=function(){Uu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Uu(e,n),typeof u!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),s}function oh(e,n,s){var u=e.pingCache;if(u===null){u=e.pingCache=new Ty;var c=new Set;u.set(n,c)}else c=u.get(n),c===void 0&&(c=new Set,u.set(n,c));c.has(s)||(c.add(s),e=jy.bind(null,e,n,s),n.then(e,e))}function lh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function uh(e,n,s,u,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=rn(-1,1),n.tag=2,kn(s,n,1))),s.lanes|=1),e)}var Ny=Q.ReactCurrentOwner,ut=!1;function nt(e,n,s,u){n.child=e===null?Rd(n,null,s,u):Nr(n,e.child,s,u)}function ah(e,n,s,u,c){s=s.render;var d=n.ref;return xr(n,c),u=Pu(e,n,s,u,d,c),s=Du(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sn(e,n,c)):(Ie&&s&&hu(n),n.flags|=1,nt(e,n,u,c),n.child)}function ch(e,n,s,u,c){if(e===null){var d=s.type;return typeof d=="function"&&!la(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,fh(e,n,d,u,c)):(e=vo(s.type,null,u,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&c)){var p=d.memoizedProps;if(s=s.compare,s=s!==null?s:_i,s(p,u)&&e.ref===n.ref)return sn(e,n,c)}return n.flags|=1,e=Pn(d,u),e.ref=n.ref,e.return=n,n.child=e}function fh(e,n,s,u,c){if(e!==null){var d=e.memoizedProps;if(_i(d,u)&&e.ref===n.ref)if(ut=!1,n.pendingProps=u=d,(e.lanes&c)!==0)e.flags&131072&&(ut=!0);else return n.lanes=e.lanes,sn(e,n,c)}return ju(e,n,s,u,c)}function dh(e,n,s){var u=n.pendingProps,c=u.children,d=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Or,vt),vt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ye(Or,vt),vt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,ye(Or,vt),vt|=u}else d!==null?(u=d.baseLanes|s,n.memoizedState=null):u=s,ye(Or,vt),vt|=u;return nt(e,n,c,s),n.child}function hh(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ju(e,n,s,u,c){var d=lt(s)?Wn:Je.current;return d=Sr(n,d),xr(n,c),s=Pu(e,n,s,u,d,c),u=Du(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,sn(e,n,c)):(Ie&&u&&hu(n),n.flags|=1,nt(e,n,s,c),n.child)}function ph(e,n,s,u,c){if(lt(s)){var d=!0;Hs(n)}else d=!1;if(xr(n,c),n.stateNode===null)lo(e,n),nh(n,s,u),zu(n,s,u,c),u=!0;else if(e===null){var p=n.stateNode,_=n.memoizedProps;p.props=_;var w=p.context,T=s.contextType;typeof T=="object"&&T!==null?T=kt(T):(T=lt(s)?Wn:Je.current,T=Sr(n,T));var P=s.getDerivedStateFromProps,D=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==u||w!==T)&&rh(n,p,u,T),Sn=!1;var R=n.memoizedState;p.state=R,Js(n,u,p,c),w=n.memoizedState,_!==u||R!==w||ot.current||Sn?(typeof P=="function"&&(Fu(n,s,P,u),w=n.memoizedState),(_=Sn||th(n,s,_,u,R,w,T))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=w),p.props=u,p.state=w,p.context=T,u=_):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,Pd(e,n),_=n.memoizedProps,T=n.type===n.elementType?_:Mt(n.type,_),p.props=T,D=n.pendingProps,R=p.context,w=s.contextType,typeof w=="object"&&w!==null?w=kt(w):(w=lt(s)?Wn:Je.current,w=Sr(n,w));var z=s.getDerivedStateFromProps;(P=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==D||R!==w)&&rh(n,p,u,w),Sn=!1,R=n.memoizedState,p.state=R,Js(n,u,p,c);var B=n.memoizedState;_!==D||R!==B||ot.current||Sn?(typeof z=="function"&&(Fu(n,s,z,u),B=n.memoizedState),(T=Sn||th(n,s,T,u,R,B,w)||!1)?(P||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,B,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,B,w)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=B),p.props=u,p.state=B,p.context=w,u=T):(typeof p.componentDidUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),u=!1)}return Bu(e,n,s,u,d,c)}function Bu(e,n,s,u,c,d){hh(e,n);var p=(n.flags&128)!==0;if(!u&&!p)return c&&vd(n,s,!1),sn(e,n,d);u=n.stateNode,Ny.current=n;var _=p&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&p?(n.child=Nr(n,e.child,null,d),n.child=Nr(n,null,_,d)):nt(e,n,_,d),n.memoizedState=u.state,c&&vd(n,s,!0),n.child}function mh(e){var n=e.stateNode;n.pendingContext?_d(e,n.pendingContext,n.pendingContext!==n.context):n.context&&_d(e,n.context,!1),ku(e,n.containerInfo)}function gh(e,n,s,u,c){return Tr(),_u(c),n.flags|=256,nt(e,n,s,u),n.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function _h(e,n,s){var u=n.pendingProps,c=Te.current,d=!1,p=(n.flags&128)!==0,_;if((_=p)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ye(Te,c&1),e===null)return gu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=u.children,e=u.fallback,d?(u=n.mode,d=n.child,p={mode:"hidden",children:p},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=p):d=wo(p,u,0,null),e=Jn(e,u,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Hu(s),n.memoizedState=Wu,e):Vu(n,p));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return Ry(e,n,p,u,_,c,s);if(d){d=u.fallback,p=n.mode,c=e.child,_=c.sibling;var w={mode:"hidden",children:u.children};return!(p&1)&&n.child!==c?(u=n.child,u.childLanes=0,u.pendingProps=w,n.deletions=null):(u=Pn(c,w),u.subtreeFlags=c.subtreeFlags&14680064),_!==null?d=Pn(_,d):(d=Jn(d,p,s,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,p=e.child.memoizedState,p=p===null?Hu(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~s,n.memoizedState=Wu,u}return d=e.child,e=d.sibling,u=Pn(d,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=s),u.return=n,u.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=u,n.memoizedState=null,u}function Vu(e,n){return n=wo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function oo(e,n,s,u){return u!==null&&_u(u),Nr(n,e.child,null,s),e=Vu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ry(e,n,s,u,c,d,p){if(s)return n.flags&256?(n.flags&=-257,u=bu(Error(r(422))),oo(e,n,p,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=u.fallback,c=n.mode,u=wo({mode:"visible",children:u.children},c,0,null),d=Jn(d,c,p,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,n.mode&1&&Nr(n,e.child,null,p),n.child.memoizedState=Hu(p),n.memoizedState=Wu,d);if(!(n.mode&1))return oo(e,n,p,null);if(c.data==="$!"){if(u=c.nextSibling&&c.nextSibling.dataset,u)var _=u.dgst;return u=_,d=Error(r(419)),u=bu(d,u,void 0),oo(e,n,p,u)}if(_=(p&e.childLanes)!==0,ut||_){if(u=Ue,u!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(u.suspendedLanes|p)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,nn(e,c),zt(u,e,c,-1))}return oa(),u=bu(Error(r(421))),oo(e,n,p,u)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=By.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,yt=vn(c.nextSibling),_t=n,Ie=!0,Ot=null,e!==null&&(Ct[St++]=en,Ct[St++]=tn,Ct[St++]=Hn,en=e.id,tn=e.overflow,Hn=n),n=Vu(n,u.children),n.flags|=4096,n)}function yh(e,n,s){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Eu(e.return,n,s)}function $u(e,n,s,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=c)}function vh(e,n,s){var u=n.pendingProps,c=u.revealOrder,d=u.tail;if(nt(e,n,u.children,s),u=Te.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yh(e,s,n);else if(e.tag===19)yh(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(ye(Te,u),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Zs(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),$u(n,!1,c,s,d);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Zs(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}$u(n,!0,s,null,d);break;case"together":$u(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function lo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function sn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Kn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Pn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xy(e,n,s){switch(n.tag){case 3:mh(n),Tr();break;case 5:Od(n);break;case 1:lt(n.type)&&Hs(n);break;case 4:ku(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,c=n.memoizedProps.value;ye(qs,u._currentValue),u._currentValue=c;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(ye(Te,Te.current&1),n.flags|=128,null):s&n.child.childLanes?_h(e,n,s):(ye(Te,Te.current&1),e=sn(e,n,s),e!==null?e.sibling:null);ye(Te,Te.current&1);break;case 19:if(u=(s&n.childLanes)!==0,e.flags&128){if(u)return vh(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ye(Te,Te.current),u)break;return null;case 22:case 23:return n.lanes=0,dh(e,n,s)}return sn(e,n,s)}var wh,Qu,Eh,Ch;wh=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Qu=function(){},Eh=function(e,n,s,u){var c=e.memoizedProps;if(c!==u){e=n.stateNode,Qn(Qt.current);var d=null;switch(s){case"input":c=El(e,c),u=El(e,u),d=[];break;case"select":c=j({},c,{value:void 0}),u=j({},u,{value:void 0}),d=[];break;case"textarea":c=kl(e,c),u=kl(e,u),d=[];break;default:typeof c.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=js)}Tl(s,u);var p;s=null;for(T in c)if(!u.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var _=c[T];for(p in _)_.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in u){var w=u[T];if(_=c!=null?c[T]:void 0,u.hasOwnProperty(T)&&w!==_&&(w!=null||_!=null))if(T==="style")if(_){for(p in _)!_.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in w)w.hasOwnProperty(p)&&_[p]!==w[p]&&(s||(s={}),s[p]=w[p])}else s||(d||(d=[]),d.push(T,s)),s=w;else T==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,_=_?_.__html:void 0,w!=null&&_!==w&&(d=d||[]).push(T,w)):T==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(T,""+w):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(w!=null&&T==="onScroll"&&Ce("scroll",e),d||_===w||(d=[])):(d=d||[]).push(T,w))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Ch=function(e,n,s,u){s!==u&&(n.flags|=4)};function Ai(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function et(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags&14680064,u|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags,u|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=u,e.childLanes=s,n}function Py(e,n,s){var u=n.pendingProps;switch(pu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return lt(n.type)&&Ws(),et(n),null;case 3:return u=n.stateNode,Pr(),Se(ot),Se(Je),Nu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Gs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ot!==null&&(ra(Ot),Ot=null))),Qu(e,n),et(n),null;case 5:Iu(n);var c=Qn(Ni.current);if(s=n.type,e!==null&&n.stateNode!=null)Eh(e,n,s,u,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return et(n),null}if(e=Qn(Qt.current),Gs(n)){u=n.stateNode,s=n.type;var d=n.memoizedProps;switch(u[$t]=n,u[Ci]=d,e=(n.mode&1)!==0,s){case"dialog":Ce("cancel",u),Ce("close",u);break;case"iframe":case"object":case"embed":Ce("load",u);break;case"video":case"audio":for(c=0;c<vi.length;c++)Ce(vi[c],u);break;case"source":Ce("error",u);break;case"img":case"image":case"link":Ce("error",u),Ce("load",u);break;case"details":Ce("toggle",u);break;case"input":tf(u,d),Ce("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},Ce("invalid",u);break;case"textarea":sf(u,d),Ce("invalid",u)}Tl(s,d),c=null;for(var p in d)if(d.hasOwnProperty(p)){var _=d[p];p==="children"?typeof _=="string"?u.textContent!==_&&(d.suppressHydrationWarning!==!0&&Us(u.textContent,_,e),c=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Us(u.textContent,_,e),c=["children",""+_]):l.hasOwnProperty(p)&&_!=null&&p==="onScroll"&&Ce("scroll",u)}switch(s){case"input":gs(u),rf(u,d,!0);break;case"textarea":gs(u),lf(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=js)}u=c,n.updateQueue=u,u!==null&&(n.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uf(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=p.createElement(s,{is:u.is}):(e=p.createElement(s),s==="select"&&(p=e,u.multiple?p.multiple=!0:u.size&&(p.size=u.size))):e=p.createElementNS(e,s),e[$t]=n,e[Ci]=u,wh(e,n,!1,!1),n.stateNode=e;e:{switch(p=Nl(s,u),s){case"dialog":Ce("cancel",e),Ce("close",e),c=u;break;case"iframe":case"object":case"embed":Ce("load",e),c=u;break;case"video":case"audio":for(c=0;c<vi.length;c++)Ce(vi[c],e);c=u;break;case"source":Ce("error",e),c=u;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),c=u;break;case"details":Ce("toggle",e),c=u;break;case"input":tf(e,u),c=El(e,u),Ce("invalid",e);break;case"option":c=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},c=j({},u,{value:void 0}),Ce("invalid",e);break;case"textarea":sf(e,u),c=kl(e,u),Ce("invalid",e);break;default:c=u}Tl(s,c),_=c;for(d in _)if(_.hasOwnProperty(d)){var w=_[d];d==="style"?ff(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&af(e,w)):d==="children"?typeof w=="string"?(s!=="textarea"||w!=="")&&ei(e,w):typeof w=="number"&&ei(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?w!=null&&d==="onScroll"&&Ce("scroll",e):w!=null&&K(e,d,w,p))}switch(s){case"input":gs(e),rf(e,u,!1);break;case"textarea":gs(e),lf(e);break;case"option":u.value!=null&&e.setAttribute("value",""+pe(u.value));break;case"select":e.multiple=!!u.multiple,d=u.value,d!=null?fr(e,!!u.multiple,d,!1):u.defaultValue!=null&&fr(e,!!u.multiple,u.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=js)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return et(n),null;case 6:if(e&&n.stateNode!=null)Ch(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=Qn(Ni.current),Qn(Qt.current),Gs(n)){if(u=n.stateNode,s=n.memoizedProps,u[$t]=n,(d=u.nodeValue!==s)&&(e=_t,e!==null))switch(e.tag){case 3:Us(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(u.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[$t]=n,n.stateNode=u}return et(n),null;case 13:if(Se(Te),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&yt!==null&&n.mode&1&&!(n.flags&128))Id(),Tr(),n.flags|=98560,d=!1;else if(d=Gs(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[$t]=n}else Tr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;et(n),d=!1}else Ot!==null&&(ra(Ot),Ot=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||Te.current&1?ze===0&&(ze=3):oa())),n.updateQueue!==null&&(n.flags|=4),et(n),null);case 4:return Pr(),Qu(e,n),e===null&&wi(n.stateNode.containerInfo),et(n),null;case 10:return wu(n.type._context),et(n),null;case 17:return lt(n.type)&&Ws(),et(n),null;case 19:if(Se(Te),d=n.memoizedState,d===null)return et(n),null;if(u=(n.flags&128)!==0,p=d.rendering,p===null)if(u)Ai(d,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=Zs(e),p!==null){for(n.flags|=128,Ai(d,!1),u=p.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)d=s,e=u,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Te,Te.current&1|2),n.child}e=e.sibling}d.tail!==null&&Ae()>Mr&&(n.flags|=128,u=!0,Ai(d,!1),n.lanes=4194304)}else{if(!u)if(e=Zs(p),e!==null){if(n.flags|=128,u=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ai(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Ie)return et(n),null}else 2*Ae()-d.renderingStartTime>Mr&&s!==1073741824&&(n.flags|=128,u=!0,Ai(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(s=d.last,s!==null?s.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ae(),n.sibling=null,s=Te.current,ye(Te,u?s&1|2:s&1),n):(et(n),null);case 22:case 23:return sa(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?vt&1073741824&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Dy(e,n){switch(pu(n),n.tag){case 1:return lt(n.type)&&Ws(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pr(),Se(ot),Se(Je),Nu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Iu(n),null;case 13:if(Se(Te),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Se(Te),null;case 4:return Pr(),null;case 10:return wu(n.type._context),null;case 22:case 23:return sa(),null;case 24:return null;default:return null}}var uo=!1,tt=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,U=null;function Ar(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){xe(e,n,u)}else s.current=null}function Gu(e,n,s){try{s()}catch(u){xe(e,n,u)}}var Sh=!1;function Oy(e,n){if(su=Rs,e=td(),Xl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var p=0,_=-1,w=-1,T=0,P=0,D=e,R=null;t:for(;;){for(var z;D!==s||c!==0&&D.nodeType!==3||(_=p+c),D!==d||u!==0&&D.nodeType!==3||(w=p+u),D.nodeType===3&&(p+=D.nodeValue.length),(z=D.firstChild)!==null;)R=D,D=z;for(;;){if(D===e)break t;if(R===s&&++T===c&&(_=p),R===d&&++P===u&&(w=p),(z=D.nextSibling)!==null)break;D=R,R=D.parentNode}D=z}s=_===-1||w===-1?null:{start:_,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(ou={focusedElem:e,selectionRange:s},Rs=!1,U=n;U!==null;)if(n=U,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,U=e;else for(;U!==null;){n=U;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Oe=B.memoizedState,k=n.stateNode,E=k.getSnapshotBeforeUpdate(n.elementType===n.type?W:Mt(n.type,W),Oe);k.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(O){xe(n,n.return,O)}if(e=n.sibling,e!==null){e.return=n.return,U=e;break}U=n.return}return B=Sh,Sh=!1,B}function Oi(e,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var c=u=u.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Gu(n,s,d)}c=c.next}while(c!==u)}}function ao(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function Ku(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function kh(e){var n=e.alternate;n!==null&&(e.alternate=null,kh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[$t],delete n[Ci],delete n[cu],delete n[my],delete n[gy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ih(e){return e.tag===5||e.tag===3||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=js));else if(u!==4&&(e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function Yu(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}var Qe=null,Lt=!1;function In(e,n,s){for(s=s.child;s!==null;)Nh(e,n,s),s=s.sibling}function Nh(e,n,s){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Cs,s)}catch{}switch(s.tag){case 5:tt||Ar(s,n);case 6:var u=Qe,c=Lt;Qe=null,In(e,n,s),Qe=u,Lt=c,Qe!==null&&(Lt?(e=Qe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Qe.removeChild(s.stateNode));break;case 18:Qe!==null&&(Lt?(e=Qe,s=s.stateNode,e.nodeType===8?au(e.parentNode,s):e.nodeType===1&&au(e,s),fi(e)):au(Qe,s.stateNode));break;case 4:u=Qe,c=Lt,Qe=s.stateNode.containerInfo,Lt=!0,In(e,n,s),Qe=u,Lt=c;break;case 0:case 11:case 14:case 15:if(!tt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){c=u=u.next;do{var d=c,p=d.destroy;d=d.tag,p!==void 0&&(d&2||d&4)&&Gu(s,n,p),c=c.next}while(c!==u)}In(e,n,s);break;case 1:if(!tt&&(Ar(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(_){xe(s,n,_)}In(e,n,s);break;case 21:In(e,n,s);break;case 22:s.mode&1?(tt=(u=tt)||s.memoizedState!==null,In(e,n,s),tt=u):In(e,n,s);break;default:In(e,n,s)}}function Rh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ay),n.forEach(function(u){var c=Wy.bind(null,e,u);s.has(u)||(s.add(u),u.then(c,c))})}}function Ft(e,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var c=s[u];try{var d=e,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 5:Qe=_.stateNode,Lt=!1;break e;case 3:Qe=_.stateNode.containerInfo,Lt=!0;break e;case 4:Qe=_.stateNode.containerInfo,Lt=!0;break e}_=_.return}if(Qe===null)throw Error(r(160));Nh(d,p,c),Qe=null,Lt=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(T){xe(c,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xh(n,e),n=n.sibling}function xh(e,n){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(n,e),Kt(e),u&4){try{Oi(3,e,e.return),ao(3,e)}catch(W){xe(e,e.return,W)}try{Oi(5,e,e.return)}catch(W){xe(e,e.return,W)}}break;case 1:Ft(n,e),Kt(e),u&512&&s!==null&&Ar(s,s.return);break;case 5:if(Ft(n,e),Kt(e),u&512&&s!==null&&Ar(s,s.return),e.flags&32){var c=e.stateNode;try{ei(c,"")}catch(W){xe(e,e.return,W)}}if(u&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,p=s!==null?s.memoizedProps:d,_=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&nf(c,d),Nl(_,p);var T=Nl(_,d);for(p=0;p<w.length;p+=2){var P=w[p],D=w[p+1];P==="style"?ff(c,D):P==="dangerouslySetInnerHTML"?af(c,D):P==="children"?ei(c,D):K(c,P,D,T)}switch(_){case"input":Cl(c,d);break;case"textarea":of(c,d);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var z=d.value;z!=null?fr(c,!!d.multiple,z,!1):R!==!!d.multiple&&(d.defaultValue!=null?fr(c,!!d.multiple,d.defaultValue,!0):fr(c,!!d.multiple,d.multiple?[]:"",!1))}c[Ci]=d}catch(W){xe(e,e.return,W)}}break;case 6:if(Ft(n,e),Kt(e),u&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(W){xe(e,e.return,W)}}break;case 3:if(Ft(n,e),Kt(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{fi(n.containerInfo)}catch(W){xe(e,e.return,W)}break;case 4:Ft(n,e),Kt(e);break;case 13:Ft(n,e),Kt(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Zu=Ae())),u&4&&Rh(e);break;case 22:if(P=s!==null&&s.memoizedState!==null,e.mode&1?(tt=(T=tt)||P,Ft(n,e),tt=T):Ft(n,e),Kt(e),u&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!P&&e.mode&1)for(U=e,P=e.child;P!==null;){for(D=U=P;U!==null;){switch(R=U,z=R.child,R.tag){case 0:case 11:case 14:case 15:Oi(4,R,R.return);break;case 1:Ar(R,R.return);var B=R.stateNode;if(typeof B.componentWillUnmount=="function"){u=R,s=R.return;try{n=u,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){xe(u,s,W)}}break;case 5:Ar(R,R.return);break;case 22:if(R.memoizedState!==null){Ah(D);continue}}z!==null?(z.return=R,U=z):Ah(D)}P=P.sibling}e:for(P=null,D=e;;){if(D.tag===5){if(P===null){P=D;try{c=D.stateNode,T?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=D.stateNode,w=D.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,_.style.display=cf("display",p))}catch(W){xe(e,e.return,W)}}}else if(D.tag===6){if(P===null)try{D.stateNode.nodeValue=T?"":D.memoizedProps}catch(W){xe(e,e.return,W)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;P===D&&(P=null),D=D.return}P===D&&(P=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Ft(n,e),Kt(e),u&4&&Rh(e);break;case 21:break;default:Ft(n,e),Kt(e)}}function Kt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Ih(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var c=u.stateNode;u.flags&32&&(ei(c,""),u.flags&=-33);var d=Th(e);Yu(e,d,c);break;case 3:case 4:var p=u.stateNode.containerInfo,_=Th(e);qu(e,_,p);break;default:throw Error(r(161))}}catch(w){xe(e,e.return,w)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e,n,s){U=e,Ph(e)}function Ph(e,n,s){for(var u=(e.mode&1)!==0;U!==null;){var c=U,d=c.child;if(c.tag===22&&u){var p=c.memoizedState!==null||uo;if(!p){var _=c.alternate,w=_!==null&&_.memoizedState!==null||tt;_=uo;var T=tt;if(uo=p,(tt=w)&&!T)for(U=c;U!==null;)p=U,w=p.child,p.tag===22&&p.memoizedState!==null?Oh(c):w!==null?(w.return=p,U=w):Oh(c);for(;d!==null;)U=d,Ph(d),d=d.sibling;U=c,uo=_,tt=T}Dh(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,U=d):Dh(e)}}function Dh(e){for(;U!==null;){var n=U;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:tt||ao(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!tt)if(s===null)u.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:Mt(n.type,s.memoizedProps);u.componentDidUpdate(c,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Ad(n,d,u);break;case 3:var p=n.updateQueue;if(p!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Ad(n,p,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var w=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&s.focus();break;case"img":w.src&&(s.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var P=T.memoizedState;if(P!==null){var D=P.dehydrated;D!==null&&fi(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}tt||n.flags&512&&Ku(n)}catch(R){xe(n,n.return,R)}}if(n===e){U=null;break}if(s=n.sibling,s!==null){s.return=n.return,U=s;break}U=n.return}}function Ah(e){for(;U!==null;){var n=U;if(n===e){U=null;break}var s=n.sibling;if(s!==null){s.return=n.return,U=s;break}U=n.return}}function Oh(e){for(;U!==null;){var n=U;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{ao(4,n)}catch(w){xe(n,s,w)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var c=n.return;try{u.componentDidMount()}catch(w){xe(n,c,w)}}var d=n.return;try{Ku(n)}catch(w){xe(n,d,w)}break;case 5:var p=n.return;try{Ku(n)}catch(w){xe(n,p,w)}}}catch(w){xe(n,n.return,w)}if(n===e){U=null;break}var _=n.sibling;if(_!==null){_.return=n.return,U=_;break}U=n.return}}var Ly=Math.ceil,co=Q.ReactCurrentDispatcher,Xu=Q.ReactCurrentOwner,Tt=Q.ReactCurrentBatchConfig,ue=0,Ue=null,Le=null,Ge=0,vt=0,Or=wn(0),ze=0,Mi=null,Kn=0,fo=0,Ju=0,Li=null,at=null,Zu=0,Mr=1/0,on=null,ho=!1,ea=null,Tn=null,po=!1,Nn=null,mo=0,Fi=0,ta=null,go=-1,_o=0;function rt(){return ue&6?Ae():go!==-1?go:go=Ae()}function Rn(e){return e.mode&1?ue&2&&Ge!==0?Ge&-Ge:yy.transition!==null?(_o===0&&(_o=Tf()),_o):(e=me,e!==0||(e=window.event,e=e===void 0?16:Lf(e.type)),e):1}function zt(e,n,s,u){if(50<Fi)throw Fi=0,ta=null,Error(r(185));oi(e,s,u),(!(ue&2)||e!==Ue)&&(e===Ue&&(!(ue&2)&&(fo|=s),ze===4&&xn(e,Ge)),ct(e,u),s===1&&ue===0&&!(n.mode&1)&&(Mr=Ae()+500,Vs&&Cn()))}function ct(e,n){var s=e.callbackNode;y_(e,n);var u=Is(e,e===Ue?Ge:0);if(u===0)s!==null&&Sf(s),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(s!=null&&Sf(s),n===1)e.tag===0?_y(Lh.bind(null,e)):wd(Lh.bind(null,e)),hy(function(){!(ue&6)&&Cn()}),s=null;else{switch(Nf(u)){case 1:s=Ml;break;case 4:s=kf;break;case 16:s=Es;break;case 536870912:s=If;break;default:s=Es}s=Hh(s,Mh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Mh(e,n){if(go=-1,_o=0,ue&6)throw Error(r(327));var s=e.callbackNode;if(Lr()&&e.callbackNode!==s)return null;var u=Is(e,e===Ue?Ge:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=yo(e,u);else{n=u;var c=ue;ue|=2;var d=zh();(Ue!==e||Ge!==n)&&(on=null,Mr=Ae()+500,Yn(e,n));do try{by();break}catch(_){Fh(e,_)}while(!0);vu(),co.current=d,ue=c,Le!==null?n=0:(Ue=null,Ge=0,n=ze)}if(n!==0){if(n===2&&(c=Ll(e),c!==0&&(u=c,n=na(e,c))),n===1)throw s=Mi,Yn(e,0),xn(e,u),ct(e,Ae()),s;if(n===6)xn(e,u);else{if(c=e.current.alternate,!(u&30)&&!Fy(c)&&(n=yo(e,u),n===2&&(d=Ll(e),d!==0&&(u=d,n=na(e,d))),n===1))throw s=Mi,Yn(e,0),xn(e,u),ct(e,Ae()),s;switch(e.finishedWork=c,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Xn(e,at,on);break;case 3:if(xn(e,u),(u&130023424)===u&&(n=Zu+500-Ae(),10<n)){if(Is(e,0)!==0)break;if(c=e.suspendedLanes,(c&u)!==u){rt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=uu(Xn.bind(null,e,at,on),n);break}Xn(e,at,on);break;case 4:if(xn(e,u),(u&4194240)===u)break;for(n=e.eventTimes,c=-1;0<u;){var p=31-Dt(u);d=1<<p,p=n[p],p>c&&(c=p),u&=~d}if(u=c,u=Ae()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ly(u/1960))-u,10<u){e.timeoutHandle=uu(Xn.bind(null,e,at,on),u);break}Xn(e,at,on);break;case 5:Xn(e,at,on);break;default:throw Error(r(329))}}}return ct(e,Ae()),e.callbackNode===s?Mh.bind(null,e):null}function na(e,n){var s=Li;return e.current.memoizedState.isDehydrated&&(Yn(e,n).flags|=256),e=yo(e,n),e!==2&&(n=at,at=s,n!==null&&ra(n)),e}function ra(e){at===null?at=e:at.push.apply(at,e)}function Fy(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var c=s[u],d=c.getSnapshot;c=c.value;try{if(!At(d(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xn(e,n){for(n&=~Ju,n&=~fo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Dt(n),u=1<<s;e[s]=-1,n&=~u}}function Lh(e){if(ue&6)throw Error(r(327));Lr();var n=Is(e,0);if(!(n&1))return ct(e,Ae()),null;var s=yo(e,n);if(e.tag!==0&&s===2){var u=Ll(e);u!==0&&(n=u,s=na(e,u))}if(s===1)throw s=Mi,Yn(e,0),xn(e,n),ct(e,Ae()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Xn(e,at,on),ct(e,Ae()),null}function ia(e,n){var s=ue;ue|=1;try{return e(n)}finally{ue=s,ue===0&&(Mr=Ae()+500,Vs&&Cn())}}function qn(e){Nn!==null&&Nn.tag===0&&!(ue&6)&&Lr();var n=ue;ue|=1;var s=Tt.transition,u=me;try{if(Tt.transition=null,me=1,e)return e()}finally{me=u,Tt.transition=s,ue=n,!(ue&6)&&Cn()}}function sa(){vt=Or.current,Se(Or)}function Yn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,dy(s)),Le!==null)for(s=Le.return;s!==null;){var u=s;switch(pu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ws();break;case 3:Pr(),Se(ot),Se(Je),Nu();break;case 5:Iu(u);break;case 4:Pr();break;case 13:Se(Te);break;case 19:Se(Te);break;case 10:wu(u.type._context);break;case 22:case 23:sa()}s=s.return}if(Ue=e,Le=e=Pn(e.current,null),Ge=vt=n,ze=0,Mi=null,Ju=fo=Kn=0,at=Li=null,$n!==null){for(n=0;n<$n.length;n++)if(s=$n[n],u=s.interleaved,u!==null){s.interleaved=null;var c=u.next,d=s.pending;if(d!==null){var p=d.next;d.next=c,u.next=p}s.pending=u}$n=null}return e}function Fh(e,n){do{var s=Le;try{if(vu(),eo.current=io,to){for(var u=Ne.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}to=!1}if(Gn=0,be=Fe=Ne=null,Ri=!1,xi=0,Xu.current=null,s===null||s.return===null){ze=1,Mi=n,Le=null;break}e:{var d=e,p=s.return,_=s,w=n;if(n=Ge,_.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var T=w,P=_,D=P.tag;if(!(P.mode&1)&&(D===0||D===11||D===15)){var R=P.alternate;R?(P.updateQueue=R.updateQueue,P.memoizedState=R.memoizedState,P.lanes=R.lanes):(P.updateQueue=null,P.memoizedState=null)}var z=lh(p);if(z!==null){z.flags&=-257,uh(z,p,_,d,n),z.mode&1&&oh(d,T,n),n=z,w=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(w),n.updateQueue=W}else B.add(w);break e}else{if(!(n&1)){oh(d,T,n),oa();break e}w=Error(r(426))}}else if(Ie&&_.mode&1){var Oe=lh(p);if(Oe!==null){!(Oe.flags&65536)&&(Oe.flags|=256),uh(Oe,p,_,d,n),_u(Dr(w,_));break e}}d=w=Dr(w,_),ze!==4&&(ze=2),Li===null?Li=[d]:Li.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var k=ih(d,w,n);Dd(d,k);break e;case 1:_=w;var E=d.type,I=d.stateNode;if(!(d.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Tn===null||!Tn.has(I)))){d.flags|=65536,n&=-n,d.lanes|=n;var O=sh(d,_,n);Dd(d,O);break e}}d=d.return}while(d!==null)}Uh(s)}catch(H){n=H,Le===s&&s!==null&&(Le=s=s.return);continue}break}while(!0)}function zh(){var e=co.current;return co.current=io,e===null?io:e}function oa(){(ze===0||ze===3||ze===2)&&(ze=4),Ue===null||!(Kn&268435455)&&!(fo&268435455)||xn(Ue,Ge)}function yo(e,n){var s=ue;ue|=2;var u=zh();(Ue!==e||Ge!==n)&&(on=null,Yn(e,n));do try{zy();break}catch(c){Fh(e,c)}while(!0);if(vu(),ue=s,co.current=u,Le!==null)throw Error(r(261));return Ue=null,Ge=0,ze}function zy(){for(;Le!==null;)bh(Le)}function by(){for(;Le!==null&&!a_();)bh(Le)}function bh(e){var n=Wh(e.alternate,e,vt);e.memoizedProps=e.pendingProps,n===null?Uh(e):Le=n,Xu.current=null}function Uh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Dy(s,n),s!==null){s.flags&=32767,Le=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}else if(s=Py(s,n,vt),s!==null){Le=s;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=e}while(n!==null);ze===0&&(ze=5)}function Xn(e,n,s){var u=me,c=Tt.transition;try{Tt.transition=null,me=1,Uy(e,n,s,u)}finally{Tt.transition=c,me=u}return null}function Uy(e,n,s,u){do Lr();while(Nn!==null);if(ue&6)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(v_(e,d),e===Ue&&(Le=Ue=null,Ge=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||po||(po=!0,Hh(Es,function(){return Lr(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Tt.transition,Tt.transition=null;var p=me;me=1;var _=ue;ue|=4,Xu.current=null,Oy(e,s),xh(s,e),sy(ou),Rs=!!su,ou=su=null,e.current=s,My(s),c_(),ue=_,me=p,Tt.transition=d}else e.current=s;if(po&&(po=!1,Nn=e,mo=c),d=e.pendingLanes,d===0&&(Tn=null),h_(s.stateNode),ct(e,Ae()),n!==null)for(u=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],u(c.value,{componentStack:c.stack,digest:c.digest});if(ho)throw ho=!1,e=ea,ea=null,e;return mo&1&&e.tag!==0&&Lr(),d=e.pendingLanes,d&1?e===ta?Fi++:(Fi=0,ta=e):Fi=0,Cn(),null}function Lr(){if(Nn!==null){var e=Nf(mo),n=Tt.transition,s=me;try{if(Tt.transition=null,me=16>e?16:e,Nn===null)var u=!1;else{if(e=Nn,Nn=null,mo=0,ue&6)throw Error(r(331));var c=ue;for(ue|=4,U=e.current;U!==null;){var d=U,p=d.child;if(U.flags&16){var _=d.deletions;if(_!==null){for(var w=0;w<_.length;w++){var T=_[w];for(U=T;U!==null;){var P=U;switch(P.tag){case 0:case 11:case 15:Oi(8,P,d)}var D=P.child;if(D!==null)D.return=P,U=D;else for(;U!==null;){P=U;var R=P.sibling,z=P.return;if(kh(P),P===T){U=null;break}if(R!==null){R.return=z,U=R;break}U=z}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Oe=W.sibling;W.sibling=null,W=Oe}while(W!==null)}}U=d}}if(d.subtreeFlags&2064&&p!==null)p.return=d,U=p;else e:for(;U!==null;){if(d=U,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Oi(9,d,d.return)}var k=d.sibling;if(k!==null){k.return=d.return,U=k;break e}U=d.return}}var E=e.current;for(U=E;U!==null;){p=U;var I=p.child;if(p.subtreeFlags&2064&&I!==null)I.return=p,U=I;else e:for(p=E;U!==null;){if(_=U,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:ao(9,_)}}catch(H){xe(_,_.return,H)}if(_===p){U=null;break e}var O=_.sibling;if(O!==null){O.return=_.return,U=O;break e}U=_.return}}if(ue=c,Cn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Cs,e)}catch{}u=!0}return u}finally{me=s,Tt.transition=n}}return!1}function jh(e,n,s){n=Dr(s,n),n=ih(e,n,1),e=kn(e,n,1),n=rt(),e!==null&&(oi(e,1,n),ct(e,n))}function xe(e,n,s){if(e.tag===3)jh(e,e,s);else for(;n!==null;){if(n.tag===3){jh(n,e,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Tn===null||!Tn.has(u))){e=Dr(s,e),e=sh(n,e,1),n=kn(n,e,1),e=rt(),n!==null&&(oi(n,1,e),ct(n,e));break}}n=n.return}}function jy(e,n,s){var u=e.pingCache;u!==null&&u.delete(n),n=rt(),e.pingedLanes|=e.suspendedLanes&s,Ue===e&&(Ge&s)===s&&(ze===4||ze===3&&(Ge&130023424)===Ge&&500>Ae()-Zu?Yn(e,0):Ju|=s),ct(e,n)}function Bh(e,n){n===0&&(e.mode&1?(n=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):n=1);var s=rt();e=nn(e,n),e!==null&&(oi(e,n,s),ct(e,s))}function By(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Bh(e,s)}function Wy(e,n){var s=0;switch(e.tag){case 13:var u=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Bh(e,s)}var Wh;Wh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||ot.current)ut=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ut=!1,xy(e,n,s);ut=!!(e.flags&131072)}else ut=!1,Ie&&n.flags&1048576&&Ed(n,Qs,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;lo(e,n),e=n.pendingProps;var c=Sr(n,Je.current);xr(n,s),c=Pu(null,n,u,e,c,s);var d=Du();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,lt(u)?(d=!0,Hs(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Su(n),c.updater=so,n.stateNode=c,c._reactInternals=n,zu(n,u,e,s),n=Bu(null,n,u,!0,d,s)):(n.tag=0,Ie&&d&&hu(n),nt(null,n,c,s),n=n.child),n;case 16:u=n.elementType;e:{switch(lo(e,n),e=n.pendingProps,c=u._init,u=c(u._payload),n.type=u,c=n.tag=Vy(u),e=Mt(u,e),c){case 0:n=ju(null,n,u,e,s);break e;case 1:n=ph(null,n,u,e,s);break e;case 11:n=ah(null,n,u,e,s);break e;case 14:n=ch(null,n,u,Mt(u.type,e),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Mt(u,c),ju(e,n,u,c,s);case 1:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Mt(u,c),ph(e,n,u,c,s);case 3:e:{if(mh(n),e===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,c=d.element,Pd(e,n),Js(n,u,null,s);var p=n.memoizedState;if(u=p.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=Dr(Error(r(423)),n),n=gh(e,n,u,s,c);break e}else if(u!==c){c=Dr(Error(r(424)),n),n=gh(e,n,u,s,c);break e}else for(yt=vn(n.stateNode.containerInfo.firstChild),_t=n,Ie=!0,Ot=null,s=Rd(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Tr(),u===c){n=sn(e,n,s);break e}nt(e,n,u,s)}n=n.child}return n;case 5:return Od(n),e===null&&gu(n),u=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,p=c.children,lu(u,c)?p=null:d!==null&&lu(u,d)&&(n.flags|=32),hh(e,n),nt(e,n,p,s),n.child;case 6:return e===null&&gu(n),null;case 13:return _h(e,n,s);case 4:return ku(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Nr(n,null,u,s):nt(e,n,u,s),n.child;case 11:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Mt(u,c),ah(e,n,u,c,s);case 7:return nt(e,n,n.pendingProps,s),n.child;case 8:return nt(e,n,n.pendingProps.children,s),n.child;case 12:return nt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,c=n.pendingProps,d=n.memoizedProps,p=c.value,ye(qs,u._currentValue),u._currentValue=p,d!==null)if(At(d.value,p)){if(d.children===c.children&&!ot.current){n=sn(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){p=d.child;for(var w=_.firstContext;w!==null;){if(w.context===u){if(d.tag===1){w=rn(-1,s&-s),w.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var P=T.pending;P===null?w.next=w:(w.next=P.next,P.next=w),T.pending=w}}d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),Eu(d.return,s,n),_.lanes|=s;break}w=w.next}}else if(d.tag===10)p=d.type===n.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(r(341));p.lanes|=s,_=p.alternate,_!==null&&(_.lanes|=s),Eu(p,s,n),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===n){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}nt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,u=n.pendingProps.children,xr(n,s),c=kt(c),u=u(c),n.flags|=1,nt(e,n,u,s),n.child;case 14:return u=n.type,c=Mt(u,n.pendingProps),c=Mt(u.type,c),ch(e,n,u,c,s);case 15:return fh(e,n,n.type,n.pendingProps,s);case 17:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:Mt(u,c),lo(e,n),n.tag=1,lt(u)?(e=!0,Hs(n)):e=!1,xr(n,s),nh(n,u,c),zu(n,u,c,s),Bu(null,n,u,!0,e,s);case 19:return vh(e,n,s);case 22:return dh(e,n,s)}throw Error(r(156,n.tag))};function Hh(e,n){return Cf(e,n)}function Hy(e,n,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,n,s,u){return new Hy(e,n,s,u)}function la(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vy(e){if(typeof e=="function")return la(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wt)return 11;if(e===Ht)return 14}return 2}function Pn(e,n){var s=e.alternate;return s===null?(s=Nt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function vo(e,n,s,u,c,d){var p=2;if(u=e,typeof e=="function")la(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case he:return Jn(s.children,c,d,n);case ee:p=8,c|=8;break;case $e:return e=Nt(12,s,n,c|2),e.elementType=$e,e.lanes=d,e;case pt:return e=Nt(13,s,n,c),e.elementType=pt,e.lanes=d,e;case Pt:return e=Nt(19,s,n,c),e.elementType=Pt,e.lanes=d,e;case Re:return wo(s,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xt:p=10;break e;case Xt:p=9;break e;case Wt:p=11;break e;case Ht:p=14;break e;case st:p=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Nt(p,s,n,c),n.elementType=e,n.type=u,n.lanes=d,n}function Jn(e,n,s,u){return e=Nt(7,e,u,n),e.lanes=s,e}function wo(e,n,s,u){return e=Nt(22,e,u,n),e.elementType=Re,e.lanes=s,e.stateNode={isHidden:!1},e}function ua(e,n,s){return e=Nt(6,e,null,n),e.lanes=s,e}function aa(e,n,s){return n=Nt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function $y(e,n,s,u,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=u,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function ca(e,n,s,u,c,d,p,_,w){return e=new $y(e,n,s,_,w),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Nt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(d),e}function Qy(e,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:u==null?null:""+u,children:e,containerInfo:n,implementation:s}}function Vh(e){if(!e)return En;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(lt(s))return yd(e,s,n)}return n}function $h(e,n,s,u,c,d,p,_,w){return e=ca(s,u,!0,e,c,d,p,_,w),e.context=Vh(null),s=e.current,u=rt(),c=Rn(s),d=rn(u,c),d.callback=n??null,kn(s,d,c),e.current.lanes=c,oi(e,c,u),ct(e,u),e}function Eo(e,n,s,u){var c=n.current,d=rt(),p=Rn(c);return s=Vh(s),n.context===null?n.context=s:n.pendingContext=s,n=rn(d,p),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=kn(c,n,p),e!==null&&(zt(e,c,p,d),Xs(e,c,p)),p}function Co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fa(e,n){Qh(e,n),(e=e.alternate)&&Qh(e,n)}var Gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function da(e){this._internalRoot=e}So.prototype.render=da.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));Eo(e,n,null,null)},So.prototype.unmount=da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qn(function(){Eo(null,e,null,null)}),n[Jt]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var n=Pf();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gn.length&&n!==0&&n<gn[s].priority;s++);gn.splice(s,0,e),s===0&&Of(e)}};function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function Gy(e,n,s,u,c){if(c){if(typeof u=="function"){var d=u;u=function(){var T=Co(p);d.call(T)}}var p=$h(n,u,e,0,null,!1,!1,"",Kh);return e._reactRootContainer=p,e[Jt]=p.current,wi(e.nodeType===8?e.parentNode:e),qn(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof u=="function"){var _=u;u=function(){var T=Co(w);_.call(T)}}var w=ca(e,0,!1,null,null,!1,!1,"",Kh);return e._reactRootContainer=w,e[Jt]=w.current,wi(e.nodeType===8?e.parentNode:e),qn(function(){Eo(n,w,s,u)}),w}function Io(e,n,s,u,c){var d=s._reactRootContainer;if(d){var p=d;if(typeof c=="function"){var _=c;c=function(){var w=Co(p);_.call(w)}}Eo(n,p,e,c)}else p=Gy(s,n,e,c,u);return Co(p)}Rf=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=si(n.pendingLanes);s!==0&&(zl(n,s|1),ct(n,Ae()),!(ue&6)&&(Mr=Ae()+500,Cn()))}break;case 13:qn(function(){var u=nn(e,1);if(u!==null){var c=rt();zt(u,e,1,c)}}),fa(e,1)}},bl=function(e){if(e.tag===13){var n=nn(e,134217728);if(n!==null){var s=rt();zt(n,e,134217728,s)}fa(e,134217728)}},xf=function(e){if(e.tag===13){var n=Rn(e),s=nn(e,n);if(s!==null){var u=rt();zt(s,e,n,u)}fa(e,n)}},Pf=function(){return me},Df=function(e,n){var s=me;try{return me=e,n()}finally{me=s}},Pl=function(e,n,s){switch(n){case"input":if(Cl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==e&&u.form===e.form){var c=Bs(u);if(!c)throw Error(r(90));ef(u),Cl(u,c)}}}break;case"textarea":of(e,s);break;case"select":n=s.value,n!=null&&fr(e,!!s.multiple,n,!1)}},mf=ia,gf=qn;var Ky={usingClientEntryPoint:!1,Events:[Si,Er,Bs,hf,pf,ia]},zi={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qy={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wf(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Cs=To.inject(qy),Vt=To}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky,ft.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ha(n))throw Error(r(200));return Qy(e,n,null,s)},ft.createRoot=function(e,n){if(!ha(e))throw Error(r(299));var s=!1,u="",c=Gh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=ca(e,1,!1,null,null,s,!1,u,c),e[Jt]=n.current,wi(e.nodeType===8?e.parentNode:e),new da(n)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=wf(n),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return qn(e)},ft.hydrate=function(e,n,s){if(!ko(n))throw Error(r(200));return Io(null,e,n,!0,s)},ft.hydrateRoot=function(e,n,s){if(!ha(e))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,c=!1,d="",p=Gh;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),n=$h(n,null,e,1,s??null,c,!1,d,p),e[Jt]=n.current,wi(e),u)for(e=0;e<u.length;e++)s=u[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new So(n)},ft.render=function(e,n,s){if(!ko(n))throw Error(r(200));return Io(null,e,n,!1,s)},ft.unmountComponentAtNode=function(e){if(!ko(e))throw Error(r(40));return e._reactRootContainer?(qn(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1},ft.unstable_batchedUpdates=ia,ft.unstable_renderSubtreeIntoContainer=function(e,n,s,u){if(!ko(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Io(e,n,s,!1,u)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var np;function ov(){if(np)return ga.exports;np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ga.exports=sv(),ga.exports}var rp;function lv(){if(rp)return No;rp=1;var i=ov();return No.createRoot=i.createRoot,No.hydrateRoot=i.hydrateRoot,No}var uv=lv();const av="modulepreload",cv=function(i){return"https://msarfer.github.io/tienda-comida-firebase-redux/"+i},ip={},fv=function(t,r,o){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=Promise.allSettled(r.map(m=>{if(m=cv(m),m in ip)return;ip[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":av,g||(y.as="script"),y.crossOrigin="",y.href=m,h&&y.setAttribute("nonce",h),document.head.appendChild(y),g)return new Promise((C,N)=>{y.addEventListener("load",C),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})};var va={exports:{}},wa={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function dv(){if(sp)return wa;sp=1;var i=tl();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,o=i.useSyncExternalStore,l=i.useRef,a=i.useEffect,f=i.useMemo,h=i.useDebugValue;return wa.useSyncExternalStoreWithSelector=function(m,g,v,y,C){var N=l(null);if(N.current===null){var A={hasValue:!1,value:null};N.current=A}else A=N.current;N=f(function(){function L(Z){if(!ne){if(ne=!0,J=Z,Z=y(Z),C!==void 0&&A.hasValue){var X=A.value;if(C(X,Z))return K=X}return K=Z}if(X=K,r(J,Z))return X;var he=y(Z);return C!==void 0&&C(X,he)?(J=Z,X):(J=Z,K=he)}var ne=!1,J,K,Q=v===void 0?null:v;return[function(){return L(g())},Q===null?void 0:function(){return L(Q())}]},[g,v,y,C]);var b=o(m,N[0],N[1]);return a(function(){A.hasValue=!0,A.value=b},[b]),h(b),b},wa}var op;function hv(){return op||(op=1,va.exports=dv()),va.exports}var pv=hv();function mv(i){i()}function gv(){let i=null,t=null;return{clear(){i=null,t=null},notify(){mv(()=>{let r=i;for(;r;)r.callback(),r=r.next})},get(){const r=[];let o=i;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:i=l,function(){!o||i===null||(o=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:i=l.next)}}}}var lp={notify(){},get:()=>[]};function _v(i,t){let r,o=lp,l=0,a=!1;function f(b){v();const L=o.subscribe(b);let ne=!1;return()=>{ne||(ne=!0,L(),y())}}function h(){o.notify()}function m(){A.onStateChange&&A.onStateChange()}function g(){return a}function v(){l++,r||(r=i.subscribe(m),o=gv())}function y(){l--,r&&l===0&&(r(),r=void 0,o.clear(),o=lp)}function C(){a||(a=!0,v())}function N(){a&&(a=!1,y())}const A={addNestedSub:f,notifyNestedSubs:h,handleChangeWrapper:m,isSubscribed:g,trySubscribe:C,tryUnsubscribe:N,getListeners:()=>o};return A}var yv=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vv=yv(),wv=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ev=wv(),Cv=()=>vv||Ev?Ye.useLayoutEffect:Ye.useEffect,Sv=Cv(),Ea=Symbol.for("react-redux-context"),Ca=typeof globalThis<"u"?globalThis:{};function kv(){if(!Ye.createContext)return{};const i=Ca[Ea]??(Ca[Ea]=new Map);let t=i.get(Ye.createContext);return t||(t=Ye.createContext(null),i.set(Ye.createContext,t)),t}var Fn=kv();function Iv(i){const{children:t,context:r,serverState:o,store:l}=i,a=Ye.useMemo(()=>{const m=_v(l);return{store:l,subscription:m,getServerState:o?()=>o:void 0}},[l,o]),f=Ye.useMemo(()=>l.getState(),[l]);Sv(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),f!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,f]);const h=r||Fn;return Ye.createElement(h.Provider,{value:a},t)}var Tv=Iv;function dc(i=Fn){return function(){return Ye.useContext(i)}}var hm=dc();function pm(i=Fn){const t=i===Fn?hm:dc(i),r=()=>{const{store:o}=t();return o};return Object.assign(r,{withTypes:()=>r}),r}var Nv=pm();function Rv(i=Fn){const t=i===Fn?Nv:pm(i),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var xv=Rv(),Pv=(i,t)=>i===t;function Dv(i=Fn){const t=i===Fn?hm:dc(i),r=(o,l={})=>{const{equalityFn:a=Pv}=typeof l=="function"?{equalityFn:l}:l,f=t(),{store:h,subscription:m,getServerState:g}=f;Ye.useRef(!0);const v=Ye.useCallback({[o.name](C){return o(C)}}[o.name],[o]),y=pv.useSyncExternalStoreWithSelector(m.addNestedSub,h.getState,g||h.getState,v,a);return Ye.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var up=Dv();function Ke(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var Av=typeof Symbol=="function"&&Symbol.observable||"@@observable",ap=Av,Sa=()=>Math.random().toString(36).substring(7).split("").join("."),Ov={INIT:`@@redux/INIT${Sa()}`,REPLACE:`@@redux/REPLACE${Sa()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sa()}`},Oo=Ov;function hc(i){if(typeof i!="object"||i===null)return!1;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t||Object.getPrototypeOf(i)===null}function mm(i,t,r){if(typeof i!="function")throw new Error(Ke(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ke(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ke(1));return r(mm)(i,t)}let o=i,l=t,a=new Map,f=a,h=0,m=!1;function g(){f===a&&(f=new Map,a.forEach((L,ne)=>{f.set(ne,L)}))}function v(){if(m)throw new Error(Ke(3));return l}function y(L){if(typeof L!="function")throw new Error(Ke(4));if(m)throw new Error(Ke(5));let ne=!0;g();const J=h++;return f.set(J,L),function(){if(ne){if(m)throw new Error(Ke(6));ne=!1,g(),f.delete(J),a=null}}}function C(L){if(!hc(L))throw new Error(Ke(7));if(typeof L.type>"u")throw new Error(Ke(8));if(typeof L.type!="string")throw new Error(Ke(17));if(m)throw new Error(Ke(9));try{m=!0,l=o(l,L)}finally{m=!1}return(a=f).forEach(J=>{J()}),L}function N(L){if(typeof L!="function")throw new Error(Ke(10));o=L,C({type:Oo.REPLACE})}function A(){const L=y;return{subscribe(ne){if(typeof ne!="object"||ne===null)throw new Error(Ke(11));function J(){const Q=ne;Q.next&&Q.next(v())}return J(),{unsubscribe:L(J)}},[ap](){return this}}}return C({type:Oo.INIT}),{dispatch:C,subscribe:y,getState:v,replaceReducer:N,[ap]:A}}function Mv(i){Object.keys(i).forEach(t=>{const r=i[t];if(typeof r(void 0,{type:Oo.INIT})>"u")throw new Error(Ke(12));if(typeof r(void 0,{type:Oo.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ke(13))})}function Lv(i){const t=Object.keys(i),r={};for(let a=0;a<t.length;a++){const f=t[a];typeof i[f]=="function"&&(r[f]=i[f])}const o=Object.keys(r);let l;try{Mv(r)}catch(a){l=a}return function(f={},h){if(l)throw l;let m=!1;const g={};for(let v=0;v<o.length;v++){const y=o[v],C=r[y],N=f[y],A=C(N,h);if(typeof A>"u")throw h&&h.type,new Error(Ke(14));g[y]=A,m=m||A!==N}return m=m||o.length!==Object.keys(f).length,m?g:f}}function Mo(...i){return i.length===0?t=>t:i.length===1?i[0]:i.reduce((t,r)=>(...o)=>t(r(...o)))}function Fv(...i){return t=>(r,o)=>{const l=t(r,o);let a=()=>{throw new Error(Ke(15))};const f={getState:l.getState,dispatch:(m,...g)=>a(m,...g)},h=i.map(m=>m(f));return a=Mo(...h)(l.dispatch),{...l,dispatch:a}}}function zv(i){return hc(i)&&"type"in i&&typeof i.type=="string"}var gm=Symbol.for("immer-nothing"),cp=Symbol.for("immer-draftable"),wt=Symbol.for("immer-state");function bt(i,...t){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Br=Object.getPrototypeOf;function rr(i){return!!i&&!!i[wt]}function cn(i){var t;return i?_m(i)||Array.isArray(i)||!!i[cp]||!!((t=i.constructor)!=null&&t[cp])||rl(i)||il(i):!1}var bv=Object.prototype.constructor.toString();function _m(i){if(!i||typeof i!="object")return!1;const t=Br(i);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===bv}function Lo(i,t){nl(i)===0?Reflect.ownKeys(i).forEach(r=>{t(r,i[r],i)}):i.forEach((r,o)=>t(o,r,i))}function nl(i){const t=i[wt];return t?t.type_:Array.isArray(i)?1:rl(i)?2:il(i)?3:0}function ba(i,t){return nl(i)===2?i.has(t):Object.prototype.hasOwnProperty.call(i,t)}function ym(i,t,r){const o=nl(i);o===2?i.set(t,r):o===3?i.add(r):i[t]=r}function Uv(i,t){return i===t?i!==0||1/i===1/t:i!==i&&t!==t}function rl(i){return i instanceof Map}function il(i){return i instanceof Set}function Zn(i){return i.copy_||i.base_}function Ua(i,t){if(rl(i))return new Map(i);if(il(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const r=_m(i);if(t===!0||t==="class_only"&&!r){const o=Object.getOwnPropertyDescriptors(i);delete o[wt];let l=Reflect.ownKeys(o);for(let a=0;a<l.length;a++){const f=l[a],h=o[f];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(o[f]={configurable:!0,writable:!0,enumerable:h.enumerable,value:i[f]})}return Object.create(Br(i),o)}else{const o=Br(i);if(o!==null&&r)return{...i};const l=Object.create(o);return Object.assign(l,i)}}function pc(i,t=!1){return sl(i)||rr(i)||!cn(i)||(nl(i)>1&&(i.set=i.add=i.clear=i.delete=jv),Object.freeze(i),t&&Object.entries(i).forEach(([r,o])=>pc(o,!0))),i}function jv(){bt(2)}function sl(i){return Object.isFrozen(i)}var Bv={};function ir(i){const t=Bv[i];return t||bt(0,i),t}var Ji;function vm(){return Ji}function Wv(i,t){return{drafts_:[],parent_:i,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fp(i,t){t&&(ir("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=t)}function ja(i){Ba(i),i.drafts_.forEach(Hv),i.drafts_=null}function Ba(i){i===Ji&&(Ji=i.parent_)}function dp(i){return Ji=Wv(Ji,i)}function Hv(i){const t=i[wt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function hp(i,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return i!==void 0&&i!==r?(r[wt].modified_&&(ja(t),bt(4)),cn(i)&&(i=Fo(t,i),t.parent_||zo(t,i)),t.patches_&&ir("Patches").generateReplacementPatches_(r[wt].base_,i,t.patches_,t.inversePatches_)):i=Fo(t,r,[]),ja(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),i!==gm?i:void 0}function Fo(i,t,r){if(sl(t))return t;const o=t[wt];if(!o)return Lo(t,(l,a)=>pp(i,o,t,l,a,r)),t;if(o.scope_!==i)return t;if(!o.modified_)return zo(i,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const l=o.copy_;let a=l,f=!1;o.type_===3&&(a=new Set(l),l.clear(),f=!0),Lo(a,(h,m)=>pp(i,o,l,h,m,r,f)),zo(i,l,!1),r&&i.patches_&&ir("Patches").generatePatches_(o,r,i.patches_,i.inversePatches_)}return o.copy_}function pp(i,t,r,o,l,a,f){if(rr(l)){const h=a&&t&&t.type_!==3&&!ba(t.assigned_,o)?a.concat(o):void 0,m=Fo(i,l,h);if(ym(r,o,m),rr(m))i.canAutoFreeze_=!1;else return}else f&&r.add(l);if(cn(l)&&!sl(l)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;Fo(i,l),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,o)&&zo(i,l)}}function zo(i,t,r=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&pc(t,r)}function Vv(i,t){const r=Array.isArray(i),o={type_:r?1:0,scope_:t?t.scope_:vm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=o,a=mc;r&&(l=[o],a=Zi);const{revoke:f,proxy:h}=Proxy.revocable(l,a);return o.draft_=h,o.revoke_=f,h}var mc={get(i,t){if(t===wt)return i;const r=Zn(i);if(!ba(r,t))return $v(i,r,t);const o=r[t];return i.finalized_||!cn(o)?o:o===ka(i.base_,t)?(Ia(i),i.copy_[t]=Ha(o,i)):o},has(i,t){return t in Zn(i)},ownKeys(i){return Reflect.ownKeys(Zn(i))},set(i,t,r){const o=wm(Zn(i),t);if(o!=null&&o.set)return o.set.call(i.draft_,r),!0;if(!i.modified_){const l=ka(Zn(i),t),a=l==null?void 0:l[wt];if(a&&a.base_===r)return i.copy_[t]=r,i.assigned_[t]=!1,!0;if(Uv(r,l)&&(r!==void 0||ba(i.base_,t)))return!0;Ia(i),Wa(i)}return i.copy_[t]===r&&(r!==void 0||t in i.copy_)||Number.isNaN(r)&&Number.isNaN(i.copy_[t])||(i.copy_[t]=r,i.assigned_[t]=!0),!0},deleteProperty(i,t){return ka(i.base_,t)!==void 0||t in i.base_?(i.assigned_[t]=!1,Ia(i),Wa(i)):delete i.assigned_[t],i.copy_&&delete i.copy_[t],!0},getOwnPropertyDescriptor(i,t){const r=Zn(i),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:i.type_!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty(){bt(11)},getPrototypeOf(i){return Br(i.base_)},setPrototypeOf(){bt(12)}},Zi={};Lo(mc,(i,t)=>{Zi[i]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zi.deleteProperty=function(i,t){return Zi.set.call(this,i,t,void 0)};Zi.set=function(i,t,r){return mc.set.call(this,i[0],t,r,i[0])};function ka(i,t){const r=i[wt];return(r?Zn(r):i)[t]}function $v(i,t,r){var l;const o=wm(t,r);return o?"value"in o?o.value:(l=o.get)==null?void 0:l.call(i.draft_):void 0}function wm(i,t){if(!(t in i))return;let r=Br(i);for(;r;){const o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=Br(r)}}function Wa(i){i.modified_||(i.modified_=!0,i.parent_&&Wa(i.parent_))}function Ia(i){i.copy_||(i.copy_=Ua(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Qv=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,o)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const f=this;return function(m=a,...g){return f.produce(m,v=>r.call(this,v,...g))}}typeof r!="function"&&bt(6),o!==void 0&&typeof o!="function"&&bt(7);let l;if(cn(t)){const a=dp(this),f=Ha(t,void 0);let h=!0;try{l=r(f),h=!1}finally{h?ja(a):Ba(a)}return fp(a,o),hp(l,a)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===gm&&(l=void 0),this.autoFreeze_&&pc(l,!0),o){const a=[],f=[];ir("Patches").generateReplacementPatches_(t,l,a,f),o(a,f)}return l}else bt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(f,...h)=>this.produceWithPatches(f,m=>t(m,...h));let o,l;return[this.produce(t,r,(f,h)=>{o=f,l=h}),o,l]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){cn(i)||bt(8),rr(i)&&(i=Gv(i));const t=dp(this),r=Ha(i,void 0);return r[wt].isManual_=!0,Ba(t),r}finishDraft(i,t){const r=i&&i[wt];(!r||!r.isManual_)&&bt(9);const{scope_:o}=r;return fp(o,t),hp(void 0,o)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){i=l.value;break}}r>-1&&(t=t.slice(r+1));const o=ir("Patches").applyPatches_;return rr(i)?o(i,t):this.produce(i,l=>o(l,t))}};function Ha(i,t){const r=rl(i)?ir("MapSet").proxyMap_(i,t):il(i)?ir("MapSet").proxySet_(i,t):Vv(i,t);return(t?t.scope_:vm()).drafts_.push(r),r}function Gv(i){return rr(i)||bt(10,i),Em(i)}function Em(i){if(!cn(i)||sl(i))return i;const t=i[wt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ua(i,t.scope_.immer_.useStrictShallowCopy_)}else r=Ua(i,!0);return Lo(r,(o,l)=>{ym(r,o,Em(l))}),t&&(t.finalized_=!1),r}var Et=new Qv,Cm=Et.produce;Et.produceWithPatches.bind(Et);Et.setAutoFreeze.bind(Et);Et.setUseStrictShallowCopy.bind(Et);Et.applyPatches.bind(Et);Et.createDraft.bind(Et);Et.finishDraft.bind(Et);function Sm(i){return({dispatch:r,getState:o})=>l=>a=>typeof a=="function"?a(r,o,i):l(a)}var Kv=Sm(),qv=Sm,Yv=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mo:Mo.apply(null,arguments)},Xv=i=>i&&typeof i.match=="function";function Qi(i,t){function r(...o){if(t){let l=t(...o);if(!l)throw new Error(un(0));return{type:i,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:i,payload:o[0]}}return r.toString=()=>`${i}`,r.type=i,r.match=o=>zv(o)&&o.type===i,r}var km=class $i extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$i.prototype)}static get[Symbol.species](){return $i}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $i(...t[0].concat(this)):new $i(...t.concat(this))}};function mp(i){return cn(i)?Cm(i,()=>{}):i}function gp(i,t,r){return i.has(t)?i.get(t):i.set(t,r(t)).get(t)}function Jv(i){return typeof i=="boolean"}var Zv=()=>function(t){const{thunk:r=!0,immutableCheck:o=!0,serializableCheck:l=!0,actionCreatorCheck:a=!0}=t??{};let f=new km;return r&&(Jv(r)?f.push(Kv):f.push(qv(r.extraArgument))),f},ew="RTK_autoBatch",_p=i=>t=>{setTimeout(t,i)},tw=(i={type:"raf"})=>t=>(...r)=>{const o=t(...r);let l=!0,a=!1,f=!1;const h=new Set,m=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_p(10):i.type==="callback"?i.queueNotification:_p(i.timeout),g=()=>{f=!1,a&&(a=!1,h.forEach(v=>v()))};return Object.assign({},o,{subscribe(v){const y=()=>l&&v(),C=o.subscribe(y);return h.add(v),()=>{C(),h.delete(v)}},dispatch(v){var y;try{return l=!((y=v==null?void 0:v.meta)!=null&&y[ew]),a=!l,a&&(f||(f=!0,m(g))),o.dispatch(v)}finally{l=!0}}})},nw=i=>function(r){const{autoBatch:o=!0}=r??{};let l=new km(i);return o&&l.push(tw(typeof o=="object"?o:void 0)),l};function rw(i){const t=Zv(),{reducer:r=void 0,middleware:o,devTools:l=!0,preloadedState:a=void 0,enhancers:f=void 0}=i;let h;if(typeof r=="function")h=r;else if(hc(r))h=Lv(r);else throw new Error(un(1));let m;typeof o=="function"?m=o(t):m=t();let g=Mo;l&&(g=Yv({trace:!1,...typeof l=="object"&&l}));const v=Fv(...m),y=nw(v);let C=typeof f=="function"?f(y):y();const N=g(...C);return mm(h,a,N)}function Im(i){const t={},r=[];let o;const l={addCase(a,f){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(un(28));if(h in t)throw new Error(un(29));return t[h]=f,l},addMatcher(a,f){return r.push({matcher:a,reducer:f}),l},addDefaultCase(a){return o=a,l}};return i(l),[t,r,o]}function iw(i){return typeof i=="function"}function sw(i,t){let[r,o,l]=Im(t),a;if(iw(i))a=()=>mp(i());else{const h=mp(i);a=()=>h}function f(h=a(),m){let g=[r[m.type],...o.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[l]),g.reduce((v,y)=>{if(y)if(rr(v)){const N=y(v,m);return N===void 0?v:N}else{if(cn(v))return Cm(v,C=>y(C,m));{const C=y(v,m);if(C===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return C}}return v},h)}return f.getInitialState=a,f}var ow=(i,t)=>Xv(i)?i.match(t):i(t);function lw(...i){return t=>i.some(r=>ow(r,t))}var uw="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aw=(i=21)=>{let t="",r=i;for(;r--;)t+=uw[Math.random()*64|0];return t},cw=["name","message","stack","code"],Ta=class{constructor(i,t){bi(this,"_type");this.payload=i,this.meta=t}},yp=class{constructor(i,t){bi(this,"_type");this.payload=i,this.meta=t}},fw=i=>{if(typeof i=="object"&&i!==null){const t={};for(const r of cw)typeof i[r]=="string"&&(t[r]=i[r]);return t}return{message:String(i)}},gc=(()=>{function i(t,r,o){const l=Qi(t+"/fulfilled",(m,g,v,y)=>({payload:m,meta:{...y||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),a=Qi(t+"/pending",(m,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:m,requestStatus:"pending"}})),f=Qi(t+"/rejected",(m,g,v,y,C)=>({payload:y,error:(o&&o.serializeError||fw)(m||"Rejected"),meta:{...C||{},arg:v,requestId:g,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function h(m){return(g,v,y)=>{const C=o!=null&&o.idGenerator?o.idGenerator(m):aw(),N=new AbortController;let A,b;function L(J){b=J,N.abort()}const ne=async function(){var Q,Z;let J;try{let X=(Q=o==null?void 0:o.condition)==null?void 0:Q.call(o,m,{getState:v,extra:y});if(hw(X)&&(X=await X),X===!1||N.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const he=new Promise((ee,$e)=>{A=()=>{$e({name:"AbortError",message:b||"Aborted"})},N.signal.addEventListener("abort",A)});g(a(C,m,(Z=o==null?void 0:o.getPendingMeta)==null?void 0:Z.call(o,{requestId:C,arg:m},{getState:v,extra:y}))),J=await Promise.race([he,Promise.resolve(r(m,{dispatch:g,getState:v,extra:y,requestId:C,signal:N.signal,abort:L,rejectWithValue:(ee,$e)=>new Ta(ee,$e),fulfillWithValue:(ee,$e)=>new yp(ee,$e)})).then(ee=>{if(ee instanceof Ta)throw ee;return ee instanceof yp?l(ee.payload,C,m,ee.meta):l(ee,C,m)})])}catch(X){J=X instanceof Ta?f(null,C,m,X.payload,X.meta):f(X,C,m)}finally{A&&N.signal.removeEventListener("abort",A)}return o&&!o.dispatchConditionRejection&&f.match(J)&&J.meta.condition||g(J),J}();return Object.assign(ne,{abort:L,requestId:C,arg:m,unwrap(){return ne.then(dw)}})}}return Object.assign(h,{pending:a,rejected:f,fulfilled:l,settled:lw(f,l),typePrefix:t})}return i.withTypes=()=>i,i})();function dw(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function hw(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var pw=Symbol.for("rtk-slice-createasyncthunk");function mw(i,t){return`${i}/${t}`}function gw({creators:i}={}){var r;const t=(r=i==null?void 0:i.asyncThunk)==null?void 0:r[pw];return function(l){const{name:a,reducerPath:f=a}=l;if(!a)throw new Error(un(11));const h=(typeof l.reducers=="function"?l.reducers(yw()):l.reducers)||{},m=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(K,Q){const Z=typeof K=="string"?K:K.type;if(!Z)throw new Error(un(12));if(Z in g.sliceCaseReducersByType)throw new Error(un(13));return g.sliceCaseReducersByType[Z]=Q,v},addMatcher(K,Q){return g.sliceMatchers.push({matcher:K,reducer:Q}),v},exposeAction(K,Q){return g.actionCreators[K]=Q,v},exposeCaseReducer(K,Q){return g.sliceCaseReducersByName[K]=Q,v}};m.forEach(K=>{const Q=h[K],Z={reducerName:K,type:mw(a,K),createNotation:typeof l.reducers=="function"};ww(Q)?Cw(Z,Q,v,t):vw(Z,Q,v)});function y(){const[K={},Q=[],Z=void 0]=typeof l.extraReducers=="function"?Im(l.extraReducers):[l.extraReducers],X={...K,...g.sliceCaseReducersByType};return sw(l.initialState,he=>{for(let ee in X)he.addCase(ee,X[ee]);for(let ee of g.sliceMatchers)he.addMatcher(ee.matcher,ee.reducer);for(let ee of Q)he.addMatcher(ee.matcher,ee.reducer);Z&&he.addDefaultCase(Z)})}const C=K=>K,N=new Map;let A;function b(K,Q){return A||(A=y()),A(K,Q)}function L(){return A||(A=y()),A.getInitialState()}function ne(K,Q=!1){function Z(he){let ee=he[K];return typeof ee>"u"&&Q&&(ee=L()),ee}function X(he=C){const ee=gp(N,Q,()=>new WeakMap);return gp(ee,he,()=>{const $e={};for(const[xt,Xt]of Object.entries(l.selectors??{}))$e[xt]=_w(Xt,he,L,Q);return $e})}return{reducerPath:K,getSelectors:X,get selectors(){return X(Z)},selectSlice:Z}}const J={name:a,reducer:b,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:L,...ne(f),injectInto(K,{reducerPath:Q,...Z}={}){const X=Q??f;return K.inject({reducerPath:X,reducer:b},Z),{...J,...ne(X,!0)}}};return J}}function _w(i,t,r,o){function l(a,...f){let h=t(a);return typeof h>"u"&&o&&(h=r()),i(h,...f)}return l.unwrapped=i,l}var Tm=gw();function yw(){function i(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return i.withTypes=()=>i,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:i}}function vw({type:i,reducerName:t,createNotation:r},o,l){let a,f;if("reducer"in o){if(r&&!Ew(o))throw new Error(un(17));a=o.reducer,f=o.prepare}else a=o;l.addCase(i,a).exposeCaseReducer(t,a).exposeAction(t,f?Qi(i,f):Qi(i))}function ww(i){return i._reducerDefinitionType==="asyncThunk"}function Ew(i){return i._reducerDefinitionType==="reducerWithPrepare"}function Cw({type:i,reducerName:t},r,o,l){if(!l)throw new Error(un(18));const{payloadCreator:a,fulfilled:f,pending:h,rejected:m,settled:g,options:v}=r,y=l(i,a,v);o.exposeAction(t,y),f&&o.addCase(y.fulfilled,f),h&&o.addCase(y.pending,h),m&&o.addCase(y.rejected,m),g&&o.addMatcher(y.settled,g),o.exposeCaseReducer(t,{fulfilled:f||Ro,pending:h||Ro,rejected:m||Ro,settled:g||Ro})}function Ro(){}function un(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,t){if(!i)throw Kr(t)},Kr=function(i){return new Error("Firebase Database ("+Nm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},Sw=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const a=i[r++];t[o++]=String.fromCharCode((l&31)<<6|a&63)}else if(l>239&&l<365){const a=i[r++],f=i[r++],h=i[r++],m=((l&7)<<18|(a&63)<<12|(f&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const a=i[r++],f=i[r++];t[o++]=String.fromCharCode((l&15)<<12|(a&63)<<6|f&63)}}return t.join("")},_c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const a=i[l],f=l+1<i.length,h=f?i[l+1]:0,m=l+2<i.length,g=m?i[l+2]:0,v=a>>2,y=(a&3)<<4|h>>4;let C=(h&15)<<2|g>>6,N=g&63;m||(N=64,f||(C=64)),o.push(r[v],r[y],r[C],r[N])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Rm(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Sw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const a=r[i.charAt(l++)],h=l<i.length?r[i.charAt(l)]:0;++l;const g=l<i.length?r[i.charAt(l)]:64;++l;const y=l<i.length?r[i.charAt(l)]:64;if(++l,a==null||h==null||g==null||y==null)throw new kw;const C=a<<2|h>>4;if(o.push(C),g!==64){const N=h<<4&240|g>>2;if(o.push(N),y!==64){const A=g<<6&192|y;o.push(A)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xm=function(i){const t=Rm(i);return _c.encodeByteArray(t,!0)},bo=function(i){return xm(i).replace(/\./g,"")},Va=function(i){try{return _c.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i){return Pm(void 0,i)}function Pm(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Tw(r)||(i[r]=Pm(i[r],t[r]));return i}function Tw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=()=>Nw().__FIREBASE_DEFAULTS__,xw=()=>{if(typeof process>"u"||typeof vp>"u")return;const i=vp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Pw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Va(i[1]);return t&&JSON.parse(t)},Dm=()=>{try{return Rw()||xw()||Pw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Dw=i=>{var t,r;return(r=(t=Dm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Aw=i=>{const t=Dw(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Am=()=>{var i;return(i=Dm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bo(JSON.stringify(r)),bo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mw())}function Lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fw(){return Nm.NODE_ADMIN===!0}function zw(){try{return typeof indexedDB=="object"}catch{return!1}}function bw(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var a;t(((a=l.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="FirebaseError";class fs extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Uw,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mm.prototype.create)}}class Mm{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,a=this.errors[t],f=a?jw(a,o):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new fs(l,h,o)}}function jw(i,t){return i.replace(Bw,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const Bw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(i){return JSON.parse(i)}function Ve(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=function(i){let t={},r={},o={},l="";try{const a=i.split(".");t=es(Va(a[0])||""),r=es(Va(a[1])||""),l=a[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:l}},Ww=function(i){const t=Lm(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Hw=function(i){const t=Lm(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Wr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function wp(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Uo(i,t,r){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=t.call(r,i[l],l,i));return o}function $a(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const a=i[l],f=t[l];if(Ep(a)&&Ep(f)){if(!$a(a,f))return!1}else if(a!==f)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function Ep(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)o[y]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let y=0;y<16;y++)o[y]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let y=16;y<80;y++){const C=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=(C<<1|C>>>31)&4294967295}let l=this.chain_[0],a=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],g,v;for(let y=0;y<80;y++){y<40?y<20?(g=h^a&(f^h),v=1518500249):(g=a^f^h,v=1859775393):y<60?(g=a&f|h&(a|f),v=2400959708):(g=a^f^h,v=3395469782);const C=(l<<5|l>>>27)+g+m+v+o[y]&4294967295;m=h,h=f,f=(a<<30|a>>>2)&4294967295,a=l,l=C}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let l=0;const a=this.buf_;let f=this.inbuf_;for(;l<r;){if(f===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<r;)if(a[f]=t.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(a),f=0;break}}else for(;l<r;)if(a[f]=t[l],++f,++l,f===this.blockSize){this.compress_(a),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let a=24;a>=0;a-=8)t[o]=this.chain_[l]>>a&255,++o;return t}}function ol(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const a=l-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;l=65536+(a<<10)+f}l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):l<65536?(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},ll=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(i){return i&&i._delegate?i._delegate:i}class ts{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new cs;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(l)return null;throw a}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qw(t))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:l});o.resolve(a)}catch{}}}}clearInstance(t=er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=er){return this.instances.has(t)}getOptions(t=er){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[a,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);o===h&&f.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),a=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;a.add(t),this.onInitCallbacks.set(l,a);const f=this.instances.get(l);return f&&t(f,l),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Kw(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=er){return this.component?this.component.multipleInstances?t:er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kw(i){return i===er?void 0:i}function qw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Gw(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(we||(we={}));const Xw={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Jw=we.INFO,Zw={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},eE=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),l=Zw[t];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let Fm=class{constructor(t){this.name=t,this._logLevel=Jw,this._logHandler=eE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}};const tE=(i,t)=>t.some(r=>i instanceof r);let Cp,Sp;function nE(){return Cp||(Cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rE(){return Sp||(Sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zm=new WeakMap,Qa=new WeakMap,bm=new WeakMap,Na=new WeakMap,yc=new WeakMap;function iE(i){const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",a),i.removeEventListener("error",f)},a=()=>{r(On(i.result)),l()},f=()=>{o(i.error),l()};i.addEventListener("success",a),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&zm.set(r,i)}).catch(()=>{}),yc.set(t,i),t}function sE(i){if(Qa.has(i))return;const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",f),i.removeEventListener("abort",f)},a=()=>{r(),l()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",a),i.addEventListener("error",f),i.addEventListener("abort",f)});Qa.set(i,t)}let Ga={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Qa.get(i);if(t==="objectStoreNames")return i.objectStoreNames||bm.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return On(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function oE(i){Ga=i(Ga)}function lE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Ra(this),t,...r);return bm.set(o,t.sort?t.sort():[t]),On(o)}:rE().includes(i)?function(...t){return i.apply(Ra(this),t),On(zm.get(this))}:function(...t){return On(i.apply(Ra(this),t))}}function uE(i){return typeof i=="function"?lE(i):(i instanceof IDBTransaction&&sE(i),tE(i,nE())?new Proxy(i,Ga):i)}function On(i){if(i instanceof IDBRequest)return iE(i);if(Na.has(i))return Na.get(i);const t=uE(i);return t!==i&&(Na.set(i,t),yc.set(t,i)),t}const Ra=i=>yc.get(i);function aE(i,t,{blocked:r,upgrade:o,blocking:l,terminated:a}={}){const f=indexedDB.open(i,t),h=On(f);return o&&f.addEventListener("upgradeneeded",m=>{o(On(f.result),m.oldVersion,m.newVersion,On(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),l&&m.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const cE=["get","getKey","getAll","getAllKeys","count"],fE=["put","add","delete","clear"],xa=new Map;function kp(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(xa.get(t))return xa.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=fE.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||cE.includes(r)))return;const a=async function(f,...h){const m=this.transaction(f,l?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(h.shift())),(await Promise.all([g[r](...h),l&&m.done]))[0]};return xa.set(t,a),a}oE(i=>({...i,get:(t,r,o)=>kp(t,r)||i.get(t,r,o),has:(t,r)=>!!kp(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(hE(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function hE(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ka="@firebase/app",Ip="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Fm("@firebase/app"),pE="@firebase/app-compat",mE="@firebase/analytics-compat",gE="@firebase/analytics",_E="@firebase/app-check-compat",yE="@firebase/app-check",vE="@firebase/auth",wE="@firebase/auth-compat",EE="@firebase/database",CE="@firebase/data-connect",SE="@firebase/database-compat",kE="@firebase/functions",IE="@firebase/functions-compat",TE="@firebase/installations",NE="@firebase/installations-compat",RE="@firebase/messaging",xE="@firebase/messaging-compat",PE="@firebase/performance",DE="@firebase/performance-compat",AE="@firebase/remote-config",OE="@firebase/remote-config-compat",ME="@firebase/storage",LE="@firebase/storage-compat",FE="@firebase/firestore",zE="@firebase/vertexai",bE="@firebase/firestore-compat",UE="firebase",jE="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]",BE={[Ka]:"fire-core",[pE]:"fire-core-compat",[gE]:"fire-analytics",[mE]:"fire-analytics-compat",[yE]:"fire-app-check",[_E]:"fire-app-check-compat",[vE]:"fire-auth",[wE]:"fire-auth-compat",[EE]:"fire-rtdb",[CE]:"fire-data-connect",[SE]:"fire-rtdb-compat",[kE]:"fire-fn",[IE]:"fire-fn-compat",[TE]:"fire-iid",[NE]:"fire-iid-compat",[RE]:"fire-fcm",[xE]:"fire-fcm-compat",[PE]:"fire-perf",[DE]:"fire-perf-compat",[AE]:"fire-rc",[OE]:"fire-rc-compat",[ME]:"fire-gcs",[LE]:"fire-gcs-compat",[FE]:"fire-fst",[bE]:"fire-fst-compat",[zE]:"fire-vertex","fire-js":"fire-js",[UE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Map,WE=new Map,Ya=new Map;function Tp(i,t){try{i.container.addComponent(t)}catch(r){fn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Bo(i){const t=i.name;if(Ya.has(t))return fn.debug(`There were multiple attempts to register component ${t}.`),!1;Ya.set(t,i);for(const r of jo.values())Tp(r,i);for(const r of WE.values())Tp(r,i);return!0}function HE(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mn=new Mm("app","Firebase",VE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=jE;function Um(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:qa,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw Mn.create("bad-app-name",{appName:String(l)});if(r||(r=Am()),!r)throw Mn.create("no-options");const a=jo.get(l);if(a){if($a(r,a.options)&&$a(o,a.config))return a;throw Mn.create("duplicate-app",{appName:l})}const f=new Yw(l);for(const m of Ya.values())f.addComponent(m);const h=new $E(r,o,f);return jo.set(l,h),h}function GE(i=qa){const t=jo.get(i);if(!t&&i===qa&&Am())return Um();if(!t)throw Mn.create("no-app",{appName:i});return t}function zr(i,t,r){var o;let l=(o=BE[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const a=l.match(/\s|\//),f=t.match(/\s|\//);if(a||f){const h=[`Unable to register library "${l}" with version "${t}":`];a&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),a&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fn.warn(h.join(" "));return}Bo(new ts(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebase-heartbeat-database",qE=1,ns="firebase-heartbeat-store";let Pa=null;function jm(){return Pa||(Pa=aE(KE,qE,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ns)}catch(r){console.warn(r)}}}}).catch(i=>{throw Mn.create("idb-open",{originalErrorMessage:i.message})})),Pa}async function YE(i){try{const r=(await jm()).transaction(ns),o=await r.objectStore(ns).get(Bm(i));return await r.done,o}catch(t){if(t instanceof fs)fn.warn(t.message);else{const r=Mn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fn.warn(r.message)}}}async function Np(i,t){try{const o=(await jm()).transaction(ns,"readwrite");await o.objectStore(ns).put(t,Bm(i)),await o.done}catch(r){if(r instanceof fs)fn.warn(r.message);else{const o=Mn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fn.warn(o.message)}}}function Bm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=1024,JE=30*24*60*60*1e3;class ZE{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new tC(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Rp();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(f=>f.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=JE}),this._storage.overwrite(this._heartbeatsCache))}catch(o){fn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Rp(),{heartbeatsToSend:o,unsentEntries:l}=eC(this._heartbeatsCache.heartbeats),a=bo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return fn.warn(r),""}}}function Rp(){return new Date().toISOString().substring(0,10)}function eC(i,t=XE){const r=[];let o=i.slice();for(const l of i){const a=r.find(f=>f.agent===l.agent);if(a){if(a.dates.push(l.date),xp(r)>t){a.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),xp(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class tC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zw()?bw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await YE(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Np(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Np(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function xp(i){return bo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(i){Bo(new ts("platform-logger",t=>new dE(t),"PRIVATE")),Bo(new ts("heartbeat",t=>new ZE(t),"PRIVATE")),zr(Ka,Ip,i),zr(Ka,Ip,"esm2017"),zr("fire-js","")}nC("");var Pp={};const Dp="@firebase/database",Ap="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm="";function rC(i){Wm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ve(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:es(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Yt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new iC(t)}}catch{}return new sC},nr=Hm("localStorage"),oC=Hm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Fm("@firebase/database"),lC=function(){let i=1;return function(){return i++}}(),Vm=function(i){const t=Qw(i),r=new $w;r.update(t);const o=r.digest();return _c.encodeByteArray(o)},ds=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=ds.apply(null,o):typeof o=="object"?t+=Ve(o):t+=o,t+=" "}return t};let Gi=null,Op=!0;const uC=function(i,t){M(!0,"Can't turn on custom loggers persistently."),br.logLevel=we.VERBOSE,Gi=br.log.bind(br)},qe=function(...i){if(Op===!0&&(Op=!1,Gi===null&&oC.get("logging_enabled")===!0&&uC()),Gi){const t=ds.apply(null,i);Gi(t)}},hs=function(i){return function(...t){qe(i,...t)}},Xa=function(...i){const t="FIREBASE INTERNAL ERROR: "+ds(...i);br.error(t)},dn=function(...i){const t=`FIREBASE FATAL ERROR: ${ds(...i)}`;throw br.error(t),new Error(t)},it=function(...i){const t="FIREBASE WARNING: "+ds(...i);br.warn(t)},aC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&it("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vc=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},cC=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Hr="[MIN_NAME]",sr="[MAX_NAME]",ar=function(i,t){if(i===t)return 0;if(i===Hr||t===sr)return-1;if(t===Hr||i===sr)return 1;{const r=Mp(i),o=Mp(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},fC=function(i,t){return i===t?0:i<t?-1:1},ji=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Ve(t))},wc=function(i){if(typeof i!="object"||i===null)return Ve(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Ve(t[o]),r+=":",r+=wc(i[t[o]]);return r+="}",r},$m=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let l=0;l<r;l+=t)l+t>r?o.push(i.substring(l,r)):o.push(i.substring(l,l+t));return o};function Xe(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Qm=function(i){M(!vc(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let l,a,f,h,m;i===0?(a=0,f=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),o),a=h+o,f=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(a=0,f=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)g.push(a%2?1:0),a=Math.floor(a/2);g.push(l?1:0),g.reverse();const v=g.join("");let y="";for(m=0;m<64;m+=8){let C=parseInt(v.substr(m,8),2).toString(16);C.length===1&&(C="0"+C),y=y+C}return y.toLowerCase()},dC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pC(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const mC=new RegExp("^-?(0*)\\d{1,10}$"),gC=-2147483648,_C=2147483647,Mp=function(i){if(mC.test(i)){const t=Number(i);if(t>=gC&&t<=_C)return t}return null},Yr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw it("Exception was thrown by user callback.",r),t},Math.floor(0))}},yC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ki=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){it(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',it(t)}}class Do{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Do.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="5",Gm="v",Km="s",qm="r",Ym="f",Xm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jm="ls",Zm="p",Ja="ac",eg="websocket",tg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,r,o,l,a=!1,f="",h=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=a,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&nr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function EC(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function rg(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===eg)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===tg)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);EC(i)&&(r.ns=i.namespace);const l=[];return Xe(r,(a,f)=>{l.push(a+"="+f)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.counters_={}}incrementCounter(t,r=1){Yt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return Iw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da={},Aa={};function Cc(i){const t=i.toString();return Da[t]||(Da[t]=new CC),Da[t]}function SC(i,t){const r=i.toString();return Aa[r]||(Aa[r]=t()),Aa[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Yr(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="start",IC="close",TC="pLPCommand",NC="pRTLPCB",ig="id",sg="pw",og="ser",RC="cb",xC="seg",PC="ts",DC="d",AC="dframe",lg=1870,ug=30,OC=lg-ug,MC=25e3,LC=3e4;class Fr{constructor(t,r,o,l,a,f,h){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=l,this.authToken=a,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hs(t),this.stats_=Cc(r),this.urlFn=m=>(this.appCheckToken&&(m[Ja]=this.appCheckToken),rg(r,tg,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new kC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LC)),cC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sc((...a)=>{const[f,h,m,g,v]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Lp)this.id=h,this.password=m;else if(f===IC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...a)=>{const[f,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[Lp]="t",o[og]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[RC]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Gm]=Ec,this.transportSessionId&&(o[Km]=this.transportSessionId),this.lastSessionId&&(o[Jm]=this.lastSessionId),this.applicationId&&(o[Zm]=this.applicationId),this.appCheckToken&&(o[Ja]=this.appCheckToken),typeof location<"u"&&location.hostname&&Xm.test(location.hostname)&&(o[qm]=Ym);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fr.forceAllow_=!0}static forceDisallow(){Fr.forceDisallow_=!0}static isAvailable(){return Fr.forceAllow_?!0:!Fr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dC()&&!hC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Ve(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=xm(r),l=$m(o,OC);for(let a=0;a<l.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[a]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[AC]="t",o[ig]=t,o[sg]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Ve(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Sc{constructor(t,r,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lC(),window[TC+this.uniqueCallbackIdentifier]=t,window[NC+this.uniqueCallbackIdentifier]=r,this.myIFrame=Sc.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){qe("frame writing exception"),h.stack&&qe(h.stack),qe(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qe("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[ig]=this.myID,t[sg]=this.myPW,t[og]=this.currentSerial;let r=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ug+o.length<=lg;){const f=this.pendingSegs.shift();o=o+"&"+xC+l+"="+f.seg+"&"+PC+l+"="+f.ts+"&"+DC+l+"="+f.d,l++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(o,Math.floor(MC)),a=()=>{clearTimeout(l),o()};this.addTag(t,a)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{qe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=16384,zC=45e3;let Wo=null;typeof MozWebSocket<"u"?Wo=MozWebSocket:typeof WebSocket<"u"&&(Wo=WebSocket);class qt{constructor(t,r,o,l,a,f,h){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hs(this.connId),this.stats_=Cc(r),this.connURL=qt.connectionURL_(r,f,h,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,a){const f={};return f[Gm]=Ec,typeof location<"u"&&location.hostname&&Xm.test(location.hostname)&&(f[qm]=Ym),r&&(f[Km]=r),o&&(f[Jm]=o),l&&(f[Ja]=l),a&&(f[Zm]=a),rg(t,eg,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nr.set("previous_websocket_failure",!0);try{let o;Fw(),this.mySock=new Wo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){qt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Wo!==null&&!qt.forceDisallow_}static previouslyFailed(){return nr.isInMemoryStorage||nr.get("previous_websocket_failure")===!0}markConnectionHealthy(){nr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=es(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Ve(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=$m(r,FC);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zC))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qt.responsesRequiredToBeHealthy=2;qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{static get ALL_TRANSPORTS(){return[Fr,qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=qt.isAvailable();let o=r&&!qt.previouslyFailed();if(t.webSocketOnly&&(r||it("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[qt];else{const l=this.transports_=[];for(const a of rs.ALL_TRANSPORTS)a&&a.isAvailable()&&l.push(a);rs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=6e4,UC=5e3,jC=10*1024,BC=100*1024,Oa="t",Fp="d",WC="s",zp="r",HC="e",bp="o",Up="a",jp="n",Bp="p",VC="h";class $C{constructor(t,r,o,l,a,f,h,m,g,v){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=a,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hs("c:"+this.id+":"),this.transportManager_=new rs(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ki(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Oa in t){const r=t[Oa];r===Up?this.upgradeIfSecondaryHealthy_():r===zp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===bp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=ji("t",t),o=ji("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Up,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=ji("t",t),o=ji("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=ji(Oa,t);if(Fp in t){const o=t[Fp];if(r===VC){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===jp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===WC?this.onConnectionShutdown_(o):r===zp?this.onReset_(o):r===HC?Xa("Server Error: "+o):r===bp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xa("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ec!==o&&it("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Ki(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ki(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{put(t,r,o,l){}merge(t,r,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const l=this.getInitialEvent(t);l&&r.apply(o,l)}off(t,r,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let a=0;a<l.length;a++)if(l[a].callback===r&&(!o||o===l[a].context)){l.splice(a,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends cg{static getInstance(){return new Ho}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=32,Hp=768;class ge{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function de(){return new ge("")}function ie(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function zn(i){return i.pieces_.length-i.pieceNum_}function Ee(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ge(i.pieces_,t)}function kc(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function QC(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function is(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function fg(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ge(t,0)}function Pe(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ge)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&r.push(o[l])}return new ge(r,0)}function le(i){return i.pieceNum_>=i.pieces_.length}function dt(i,t){const r=ie(i),o=ie(t);if(r===null)return t;if(r===o)return dt(Ee(i),Ee(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function GC(i,t){const r=is(i,0),o=is(t,0);for(let l=0;l<r.length&&l<o.length;l++){const a=ar(r[l],o[l]);if(a!==0)return a}return r.length===o.length?0:r.length<o.length?-1:1}function Ic(i,t){if(zn(i)!==zn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Rt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(zn(i)>zn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class KC{constructor(t,r){this.errorPrefix_=r,this.parts_=is(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=ll(this.parts_[o]);dg(this)}}function qC(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=ll(t),dg(i)}function YC(i){const t=i.parts_.pop();i.byteLength_-=ll(t),i.parts_.length>0&&(i.byteLength_-=1)}function dg(i){if(i.byteLength_>Hp)throw new Error(i.errorPrefix_+"has a key path longer than "+Hp+" bytes ("+i.byteLength_+").");if(i.parts_.length>Wp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wp+") or object contains a cycle "+tr(i))}function tr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends cg{static getInstance(){return new Tc}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=1e3,XC=60*5*1e3,Vp=30*1e3,JC=1.3,ZC=3e4,eS="server_kill",$p=3;class an extends ag{constructor(t,r,o,l,a,f,h,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=a,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=an.nextPersistentConnectionId_++,this.log_=hs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bi,this.maxReconnectDelay_=XC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ho.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,a={r:l,a:t,b:r};this.log_(Ve(a)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new cs,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(t,r,o,l){this.initConnection_();const a=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+a),this.listens.has(f)||this.listens.set(f,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(f).has(a),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(f).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const a={p:o},f="q";t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(f,a,h=>{const m=h.d,g=h.s;an.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Yt(t,"w")){const o=Wr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();it(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Hw(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Vp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Ww(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const a=l.s,f=l.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const a={p:t},f="n";l&&(a.q=o,a.t=l),this.sendRequest(f,a)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const a={p:r,d:o};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,a){this.initConnection_();const f={p:r,d:o};a!==void 0&&(f.h=a),this.outstandingPuts_.push({action:t,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const a=o.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ve(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Xa("Unrecognized action received from server: "+Ve(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZC&&(this.reconnectDelay_=Bi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+an.nextConnectionId_++,a=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,o())},g=function(y){M(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:m,sendRequest:g};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,C]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=C&&C.token,h=new $C(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,N=>{it(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(eS)},a))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&it(y),m())}}}interrupt(t){qe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],wp(this.interruptReasons_)&&(this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(a=>wc(a)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new ge(t).toString();let l;if(this.listens.has(o)){const a=this.listens.get(o);l=a.get(r),a.delete(r),a.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){qe("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$p&&(this.reconnectDelay_=Vp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){qe("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$p&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Wm.replace(/\./g,"-")]=1,Om()?t["framework.cordova"]=1:Lw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ho.getInstance().currentlyOnline();return wp(this.interruptReasons_)&&t}}an.nextPersistentConnectionId_=0;an.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new se(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new se(Hr,t),l=new se(Hr,r);return this.compare(o,l)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo;class hg extends ul{static get __EMPTY_NODE(){return xo}static set __EMPTY_NODE(t){xo=t}compare(t,r){return ar(t.name,r.name)}isDefinedOn(t){throw Kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return se.MIN}maxPost(){return new se(sr,xo)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,xo)}toString(){return".key"}}const Ur=new hg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,r,o,l,a=null){this.isReverse_=l,this.resultGenerator_=a,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,l&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,r,o,l,a){this.key=t,this.value=r,this.color=o??We.RED,this.left=l??ht.EMPTY_NODE,this.right=a??ht.EMPTY_NODE}copy(t,r,o,l,a){return new We(t??this.key,r??this.value,o??this.color,l??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const a=o(t,l.key);return a<0?l=l.copy(null,null,null,l.left.insert(t,r,o),null):a===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ht.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class tS{copy(t,r,o,l,a){return this}insert(t,r,o){return new We(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(t,r=ht.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ht(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new ht(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,l=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Po(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new Po(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new Po(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new Po(this.root_,null,this.comparator_,!0,t)}}ht.EMPTY_NODE=new tS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(i,t){return ar(i.name,t.name)}function Nc(i,t){return ar(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za;function rS(i){Za=i}const pg=function(i){return typeof i=="number"?"number:"+Qm(i):"string:"+i},mg=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Yt(t,".sv"),"Priority must be a string or number.")}else M(i===Za||i.isEmpty(),"priority of unexpected type.");M(i===Za||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp;class Be{static set __childrenNodeConstructor(t){Qp=t}static get __childrenNodeConstructor(){return Qp}constructor(t,r=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return le(t)?this:ie(t)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ie(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||zn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+pg(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Qm(this.value_):t+=this.value_,this.lazyHash_=Vm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Be.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=Be.VALUE_TYPE_ORDER.indexOf(r),a=Be.VALUE_TYPE_ORDER.indexOf(o);return M(l>=0,"Unknown leaf type: "+r),M(a>=0,"Unknown leaf type: "+o),l===a?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg,_g;function iS(i){gg=i}function sS(i){_g=i}class oS extends ul{compare(t,r){const o=t.node.getPriority(),l=r.node.getPriority(),a=o.compareTo(l);return a===0?ar(t.name,r.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return se.MIN}maxPost(){return new se(sr,new Be("[PRIORITY-POST]",_g))}makePost(t,r){const o=gg(t);return new se(r,new Be("[PRIORITY-POST]",o))}toString(){return".priority"}}const De=new oS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=Math.log(2);class uS{constructor(t){const r=a=>parseInt(Math.log(a)/lS,10),o=a=>parseInt(Array(a+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Vo=function(i,t,r,o){i.sort(t);const l=function(m,g){const v=g-m;let y,C;if(v===0)return null;if(v===1)return y=i[m],C=r?r(y):y,new We(C,y.node,We.BLACK,null,null);{const N=parseInt(v/2,10)+m,A=l(m,N),b=l(N+1,g);return y=i[N],C=r?r(y):y,new We(C,y.node,We.BLACK,A,b)}},a=function(m){let g=null,v=null,y=i.length;const C=function(A,b){const L=y-A,ne=y;y-=A;const J=l(L+1,ne),K=i[L],Q=r?r(K):K;N(new We(Q,K.node,b,null,J))},N=function(A){g?(g.left=A,g=A):(v=A,g=A)};for(let A=0;A<m.count;++A){const b=m.nextBitIsOne(),L=Math.pow(2,m.count-(A+1));b?C(L,We.BLACK):(C(L,We.BLACK),C(L,We.RED))}return v},f=new uS(i.length),h=a(f);return new ht(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;const Wi={};class ln{static get Default(){return M(De,"ChildrenNode.ts has not been loaded"),Ma=Ma||new ln({".priority":Wi},{".priority":De}),Ma}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Wr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ht?r:null}hasIndex(t){return Yt(this.indexSet_,t.toString())}addIndex(t,r){M(t!==Ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const a=r.getIterator(se.Wrap);let f=a.getNext();for(;f;)l=l||t.isDefinedOn(f.node),o.push(f),f=a.getNext();let h;l?h=Vo(o,t.getCompare()):h=Wi;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const v=Object.assign({},this.indexes_);return v[m]=h,new ln(v,g)}addToIndexes(t,r){const o=Uo(this.indexes_,(l,a)=>{const f=Wr(this.indexSet_,a);if(M(f,"Missing index implementation for "+a),l===Wi)if(f.isDefinedOn(t.node)){const h=[],m=r.getIterator(se.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&h.push(g),g=m.getNext();return h.push(t),Vo(h,f.getCompare())}else return Wi;else{const h=r.get(t.name);let m=l;return h&&(m=m.remove(new se(t.name,h))),m.insert(t,t.node)}});return new ln(o,this.indexSet_)}removeFromIndexes(t,r){const o=Uo(this.indexes_,l=>{if(l===Wi)return l;{const a=r.get(t.name);return a?l.remove(new se(t.name,a)):l}});return new ln(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hi;class q{static get EMPTY_NODE(){return Hi||(Hi=new q(new ht(Nc),null,ln.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&mg(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hi}updatePriority(t){return this.children_.isEmpty()?this:new q(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Hi:r}}getChild(t){const r=ie(t);return r===null?this:this.getImmediateChild(r).getChild(Ee(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new se(t,r);let l,a;r.isEmpty()?(l=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(o,this.children_));const f=l.isEmpty()?Hi:this.priorityNode_;return new q(l,f,a)}}updateChild(t,r){const o=ie(t);if(o===null)return r;{M(ie(t)!==".priority"||zn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Ee(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,a=!0;if(this.forEachChild(De,(f,h)=>{r[f]=h.val(t),o++,a&&q.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):a=!1}),!t&&a&&l<2*o){const f=[];for(const h in r)f[h]=r[h];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+pg(this.getPriority().val())+":"),this.forEachChild(De,(r,o)=>{const l=o.hash();l!==""&&(t+=":"+r+":"+l)}),this.lazyHash_=t===""?"":Vm(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const a=l.getPredecessorKey(new se(t,r));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new se(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new se(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,se.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,t)<0;)l.getNext(),a=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,t)>0;)l.getNext(),a=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ps?-1:0}withIndex(t){if(t===Ur||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new q(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ur||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(De),l=r.getIterator(De);let a=o.getNext(),f=l.getNext();for(;a&&f;){if(a.name!==f.name||!a.node.equals(f.node))return!1;a=o.getNext(),f=l.getNext()}return a===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Ur?null:this.indexMap_.get(t.toString())}}q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aS extends q{constructor(){super(new ht(Nc),q.EMPTY_NODE,ln.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return q.EMPTY_NODE}isEmpty(){return!1}}const ps=new aS;Object.defineProperties(se,{MIN:{value:new se(Hr,q.EMPTY_NODE)},MAX:{value:new se(sr,ps)}});hg.__EMPTY_NODE=q.EMPTY_NODE;Be.__childrenNodeConstructor=q;rS(ps);sS(ps);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=!0;function He(i,t=null){if(i===null)return q.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Be(r,He(t))}if(!(i instanceof Array)&&cS){const r=[];let o=!1;if(Xe(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=He(h);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new se(f,m)))}}),r.length===0)return q.EMPTY_NODE;const a=Vo(r,nS,f=>f.name,Nc);if(o){const f=Vo(r,De.getCompare());return new q(a,He(t),new ln({".priority":f},{".priority":De}))}else return new q(a,He(t),ln.Default)}else{let r=q.EMPTY_NODE;return Xe(i,(o,l)=>{if(Yt(i,o)&&o.substring(0,1)!=="."){const a=He(l);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(o,a))}}),r.updatePriority(He(t))}}iS(He);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends ul{constructor(t){super(),this.indexPath_=t,M(!le(t)&&ie(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),l=this.extractChild(r.node),a=o.compareTo(l);return a===0?ar(t.name,r.name):a}makePost(t,r){const o=He(t),l=q.EMPTY_NODE.updateChild(this.indexPath_,o);return new se(r,l)}maxPost(){const t=q.EMPTY_NODE.updateChild(this.indexPath_,ps);return new se(sr,t)}toString(){return is(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends ul{compare(t,r){const o=t.node.compareTo(r.node);return o===0?ar(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,r){const o=He(t);return new se(r,o)}toString(){return".value"}}const hS=new dS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i){return{type:"value",snapshotNode:i}}function Vr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function ss(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function os(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function pS(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.index_=t}updateChild(t,r,o,l,a,f){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(r);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(ss(r,h)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Vr(r,o)):f.trackChildChange(os(r,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(De,(l,a)=>{r.hasChild(l)||o.trackChildChange(ss(l,a))}),r.isLeafNode()||r.forEachChild(De,(l,a)=>{if(t.hasChild(l)){const f=t.getImmediateChild(l);f.equals(a)||o.trackChildChange(os(l,a,f))}else o.trackChildChange(Vr(l,a))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?q.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t){this.indexedFilter_=new Rc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ls.getStartPost_(t),this.endPost_=ls.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,l,a,f){return this.matches(new se(r,o))||(o=q.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,l,a,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=q.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(q.EMPTY_NODE);const a=this;return r.forEachChild(De,(f,h)=>{a.matches(new se(f,h))||(l=l.updateImmediateChild(f,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new ls(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,l,a,f){return this.rangedFilter_.matches(new se(r,o))||(o=q.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,l,a,f):this.fullLimitUpdateChild_(t,r,o,a,f)}updateFullNode(t,r,o){let l;if(r.isLeafNode()||r.isEmpty())l=q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=q.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;a.hasNext()&&f<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(q.EMPTY_NODE);let a;this.reverse_?a=l.getReverseIterator(this.index_):a=l.getIterator(this.index_);let f=0;for(;a.hasNext();){const h=a.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,l,a){let f;if(this.reverse_){const y=this.index_.getCompare();f=(C,N)=>y(N,C)}else f=this.index_.getCompare();const h=t;M(h.numChildren()===this.limit_,"");const m=new se(r,o),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(h.hasChild(r)){const y=h.getImmediateChild(r);let C=l.getChildAfterChild(this.index_,g,this.reverse_);for(;C!=null&&(C.name===r||h.hasChild(C.name));)C=l.getChildAfterChild(this.index_,C,this.reverse_);const N=C==null?1:f(C,m);if(v&&!o.isEmpty()&&N>=0)return a!=null&&a.trackChildChange(os(r,o,y)),h.updateImmediateChild(r,o);{a!=null&&a.trackChildChange(ss(r,y));const b=h.updateImmediateChild(r,q.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(a!=null&&a.trackChildChange(Vr(C.name,C.node)),b.updateImmediateChild(C.name,C.node)):b}}else return o.isEmpty()?t:v&&f(g,m)>=0?(a!=null&&(a.trackChildChange(ss(g.name,g.node)),a.trackChildChange(Vr(r,o))),h.updateImmediateChild(r,o).updateImmediateChild(g.name,q.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hr}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const t=new xc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gS(i){return i.loadsAllData()?new Rc(i.getIndex()):i.hasLimit()?new mS(i):new ls(i)}function Gp(i){const t={};if(i.isDefault())return t;let r;if(i.index_===De?r="$priority":i.index_===hS?r="$value":i.index_===Ur?r="$key":(M(i.index_ instanceof fS,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Ve(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Ve(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Ve(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Ve(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Ve(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Kp(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==De&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends ag{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=hs("p:rest:"),this.listens_={}}listen(t,r,o,l){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const f=$o.getListenId_(t,o),h={};this.listens_[f]=h;const m=Gp(t._queryParams);this.restRequest_(a+".json",m,(g,v)=>{let y=v;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(a,y,!1,o),Wr(this.listens_,f)===h){let C;g?g===401?C="permission_denied":C="rest_error:"+g:C="ok",l(C,null)}})}unlisten(t,r){const o=$o.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Gp(t._queryParams),o=t._path.toString(),l=new cs;return this.restRequest_(o+".json",r,(a,f)=>{let h=f;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,a])=>{l&&l.accessToken&&(r.auth=l.accessToken),a&&a.token&&(r.ac=a.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Vw(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=es(h.responseText)}catch{it("Failed to parse JSON response for "+f+": "+h.responseText)}o(null,m)}else h.status!==401&&h.status!==404&&it("Got unsuccessful REST response for "+f+" Status: "+h.status),o(h.status);o=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){return{value:null,children:new Map}}function vg(i,t,r){if(le(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ie(t);i.children.has(o)||i.children.set(o,Qo());const l=i.children.get(o);t=Ee(t),vg(l,t,r)}}function ec(i,t,r){i.value!==null?r(t,i.value):yS(i,(o,l)=>{const a=new ge(t.toString()+"/"+o);ec(l,a,r)})}function yS(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Xe(this.last_,(o,l)=>{r[o]=r[o]-l}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=10*1e3,wS=30*1e3,ES=5*60*1e3;class CS{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new vS(t);const o=qp+(wS-qp)*Math.random();Ki(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Xe(t,(l,a)=>{a>0&&Yt(this.statsToReport_,l)&&(r[l]=a,o=!0)}),o&&this.server_.reportStats(r),Ki(this.reportStats_.bind(this),Math.floor(Math.random()*2*ES))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function Pc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ac(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Ut.ACK_USER_WRITE,this.source=Pc()}operationForChild(t){if(le(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ge(t));return new Go(de(),r,this.revert)}}else return M(ie(this.path)===t,"operationForChild called for unrelated child."),new Go(Ee(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,r){this.source=t,this.path=r,this.type=Ut.LISTEN_COMPLETE}operationForChild(t){return le(this.path)?new us(this.source,de()):new us(this.source,Ee(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Ut.OVERWRITE}operationForChild(t){return le(this.path)?new or(this.source,de(),this.snap.getImmediateChild(t)):new or(this.source,Ee(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Ut.MERGE}operationForChild(t){if(le(this.path)){const r=this.children.subtree(new ge(t));return r.isEmpty()?null:r.value?new or(this.source,de(),r.value):new $r(this.source,de(),r)}else return M(ie(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new $r(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(le(t))return this.isFullyInitialized()&&!this.filtered_;const r=ie(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function kS(i,t,r,o){const l=[],a=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&a.push(pS(f.childName,f.snapshotNode))}),Vi(i,l,"child_removed",t,o,r),Vi(i,l,"child_added",t,o,r),Vi(i,l,"child_moved",a,o,r),Vi(i,l,"child_changed",t,o,r),Vi(i,l,"value",t,o,r),l}function Vi(i,t,r,o,l,a){const f=o.filter(h=>h.type===r);f.sort((h,m)=>TS(i,h,m)),f.forEach(h=>{const m=IS(i,h,a);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(m,i.query_))})})}function IS(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function TS(i,t,r){if(t.childName==null||r.childName==null)throw Kr("Should only compare child_ events.");const o=new se(t.childName,t.snapshotNode),l=new se(r.childName,r.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(i,t){return{eventCache:i,serverCache:t}}function qi(i,t,r,o){return al(new lr(t,r,o),i.serverCache)}function wg(i,t,r,o){return al(i.eventCache,new lr(t,r,o))}function tc(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ur(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;const NS=()=>(La||(La=new ht(fC)),La);class ve{static fromObject(t){let r=new ve(null);return Xe(t,(o,l)=>{r=r.set(new ge(o),l)}),r}constructor(t,r=NS()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:de(),value:this.value};if(le(t))return null;{const o=ie(t),l=this.children.get(o);if(l!==null){const a=l.findRootMostMatchingPathAndValue(Ee(t),r);return a!=null?{path:Pe(new ge(o),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(le(t))return this;{const r=ie(t),o=this.children.get(r);return o!==null?o.subtree(Ee(t)):new ve(null)}}set(t,r){if(le(t))return new ve(r,this.children);{const o=ie(t),a=(this.children.get(o)||new ve(null)).set(Ee(t),r),f=this.children.insert(o,a);return new ve(this.value,f)}}remove(t){if(le(t))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const r=ie(t),o=this.children.get(r);if(o){const l=o.remove(Ee(t));let a;return l.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,l),this.value===null&&a.isEmpty()?new ve(null):new ve(this.value,a)}else return this}}get(t){if(le(t))return this.value;{const r=ie(t),o=this.children.get(r);return o?o.get(Ee(t)):null}}setTree(t,r){if(le(t))return r;{const o=ie(t),a=(this.children.get(o)||new ve(null)).setTree(Ee(t),r);let f;return a.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,a),new ve(this.value,f)}}fold(t){return this.fold_(de(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((l,a)=>{o[l]=a.fold_(Pe(t,l),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,de(),r)}findOnPath_(t,r,o){const l=this.value?o(r,this.value):!1;if(l)return l;if(le(t))return null;{const a=ie(t),f=this.children.get(a);return f?f.findOnPath_(Ee(t),Pe(r,a),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,de(),r)}foreachOnPath_(t,r,o){if(le(t))return this;{this.value&&o(r,this.value);const l=ie(t),a=this.children.get(l);return a?a.foreachOnPath_(Ee(t),Pe(r,l),o):new ve(null)}}foreach(t){this.foreach_(de(),t)}foreach_(t,r){this.children.inorderTraversal((o,l)=>{l.foreach_(Pe(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.writeTree_=t}static empty(){return new jt(new ve(null))}}function Yi(i,t,r){if(le(t))return new jt(new ve(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let a=o.value;const f=dt(l,t);return a=a.updateChild(f,r),new jt(i.writeTree_.set(l,a))}else{const l=new ve(r),a=i.writeTree_.setTree(t,l);return new jt(a)}}}function nc(i,t,r){let o=i;return Xe(r,(l,a)=>{o=Yi(o,Pe(t,l),a)}),o}function Yp(i,t){if(le(t))return jt.empty();{const r=i.writeTree_.setTree(t,new ve(null));return new jt(r)}}function rc(i,t){return cr(i,t)!=null}function cr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(dt(r.path,t)):null}function Xp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(De,(o,l)=>{t.push(new se(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new se(o,l.value))}),t}function Ln(i,t){if(le(t))return i;{const r=cr(i,t);return r!=null?new jt(new ve(r)):new jt(i.writeTree_.subtree(t))}}function ic(i){return i.writeTree_.isEmpty()}function Qr(i,t){return Eg(de(),i.writeTree_,t)}function Eg(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,a)=>{l===".priority"?(M(a.value!==null,"Priority writes must always be leaf nodes"),o=a.value):r=Eg(Pe(i,l),a,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Pe(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(i,t){return Ig(t,i)}function RS(i,t,r,o,l){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:l}),l&&(i.visibleWrites=Yi(i.visibleWrites,t,r)),i.lastWriteId=o}function xS(i,t,r,o){M(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=nc(i.visibleWrites,t,r),i.lastWriteId=o}function PS(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function DS(i,t){const r=i.allWrites.findIndex(h=>h.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let l=o.visible,a=!1,f=i.allWrites.length-1;for(;l&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=r&&AS(h,o.path)?l=!1:Rt(o.path,h.path)&&(a=!0)),f--}if(l){if(a)return OS(i),!0;if(o.snap)i.visibleWrites=Yp(i.visibleWrites,o.path);else{const h=o.children;Xe(h,m=>{i.visibleWrites=Yp(i.visibleWrites,Pe(o.path,m))})}return!0}else return!1}function AS(i,t){if(i.snap)return Rt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Rt(Pe(i.path,r),t))return!0;return!1}function OS(i){i.visibleWrites=Cg(i.allWrites,MS,de()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function MS(i){return i.visible}function Cg(i,t,r){let o=jt.empty();for(let l=0;l<i.length;++l){const a=i[l];if(t(a)){const f=a.path;let h;if(a.snap)Rt(r,f)?(h=dt(r,f),o=Yi(o,h,a.snap)):Rt(f,r)&&(h=dt(f,r),o=Yi(o,de(),a.snap.getChild(h)));else if(a.children){if(Rt(r,f))h=dt(r,f),o=nc(o,h,a.children);else if(Rt(f,r))if(h=dt(f,r),le(h))o=nc(o,de(),a.children);else{const m=Wr(a.children,ie(h));if(m){const g=m.getChild(Ee(h));o=Yi(o,de(),g)}}}else throw Kr("WriteRecord should have .snap or .children")}}return o}function Sg(i,t,r,o,l){if(!o&&!l){const a=cr(i.visibleWrites,t);if(a!=null)return a;{const f=Ln(i.visibleWrites,t);if(ic(f))return r;if(r==null&&!rc(f,de()))return null;{const h=r||q.EMPTY_NODE;return Qr(f,h)}}}else{const a=Ln(i.visibleWrites,t);if(!l&&ic(a))return r;if(!l&&r==null&&!rc(a,de()))return null;{const f=function(g){return(g.visible||l)&&(!o||!~o.indexOf(g.writeId))&&(Rt(g.path,t)||Rt(t,g.path))},h=Cg(i.allWrites,f,t),m=r||q.EMPTY_NODE;return Qr(h,m)}}}function LS(i,t,r){let o=q.EMPTY_NODE;const l=cr(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(De,(a,f)=>{o=o.updateImmediateChild(a,f)}),o;if(r){const a=Ln(i.visibleWrites,t);return r.forEachChild(De,(f,h)=>{const m=Qr(Ln(a,new ge(f)),h);o=o.updateImmediateChild(f,m)}),Xp(a).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const a=Ln(i.visibleWrites,t);return Xp(a).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function FS(i,t,r,o,l){M(o||l,"Either existingEventSnap or existingServerSnap must exist");const a=Pe(t,r);if(rc(i.visibleWrites,a))return null;{const f=Ln(i.visibleWrites,a);return ic(f)?l.getChild(r):Qr(f,l.getChild(r))}}function zS(i,t,r,o){const l=Pe(t,r),a=cr(i.visibleWrites,l);if(a!=null)return a;if(o.isCompleteForChild(r)){const f=Ln(i.visibleWrites,l);return Qr(f,o.getNode().getImmediateChild(r))}else return null}function bS(i,t){return cr(i.visibleWrites,t)}function US(i,t,r,o,l,a,f){let h;const m=Ln(i.visibleWrites,t),g=cr(m,de());if(g!=null)h=g;else if(r!=null)h=Qr(m,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const v=[],y=f.getCompare(),C=a?h.getReverseIteratorFrom(o,f):h.getIteratorFrom(o,f);let N=C.getNext();for(;N&&v.length<l;)y(N,o)!==0&&v.push(N),N=C.getNext();return v}else return[]}function jS(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Ko(i,t,r,o){return Sg(i.writeTree,i.treePath,t,r,o)}function Mc(i,t){return LS(i.writeTree,i.treePath,t)}function Jp(i,t,r,o){return FS(i.writeTree,i.treePath,t,r,o)}function qo(i,t){return bS(i.writeTree,Pe(i.treePath,t))}function BS(i,t,r,o,l,a){return US(i.writeTree,i.treePath,t,r,o,l,a)}function Lc(i,t,r){return zS(i.writeTree,i.treePath,t,r)}function kg(i,t){return Ig(Pe(i.treePath,t),i.writeTree)}function Ig(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const a=l.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(o,os(o,t.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(o,ss(o,l.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(o,Vr(o,t.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(o,os(o,t.snapshotNode,l.oldSnap));else throw Kr("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Tg=new HS;class Fc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lc(this.writes_,t,o)}}getChildAfterChild(t,r,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ur(this.viewCache_),a=BS(this.writes_,l,r,1,o,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(i){return{filter:i}}function $S(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function QS(i,t,r,o,l){const a=new WS;let f,h;if(r.type===Ut.OVERWRITE){const g=r;g.source.fromUser?f=sc(i,t,g.path,g.snap,o,l,a):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!le(g.path),f=Yo(i,t,g.path,g.snap,o,l,h,a))}else if(r.type===Ut.MERGE){const g=r;g.source.fromUser?f=KS(i,t,g.path,g.children,o,l,a):(M(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),f=oc(i,t,g.path,g.children,o,l,h,a))}else if(r.type===Ut.ACK_USER_WRITE){const g=r;g.revert?f=XS(i,t,g.path,o,l,a):f=qS(i,t,g.path,g.affectedTree,o,l,a)}else if(r.type===Ut.LISTEN_COMPLETE)f=YS(i,t,r.path,o,a);else throw Kr("Unknown operation type: "+r.type);const m=a.getChanges();return GS(t,f,m),{viewCache:f,changes:m}}function GS(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),a=tc(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(a)||!o.getNode().getPriority().equals(a.getPriority()))&&r.push(yg(tc(t)))}}function Ng(i,t,r,o,l,a){const f=t.eventCache;if(qo(o,r)!=null)return t;{let h,m;if(le(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ur(t),v=g instanceof q?g:q.EMPTY_NODE,y=Mc(o,v);h=i.filter.updateFullNode(t.eventCache.getNode(),y,a)}else{const g=Ko(o,ur(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,a)}else{const g=ie(r);if(g===".priority"){M(zn(r)===1,"Can't have a priority with additional path components");const v=f.getNode();m=t.serverCache.getNode();const y=Jp(o,r,v,m);y!=null?h=i.filter.updatePriority(v,y):h=f.getNode()}else{const v=Ee(r);let y;if(f.isCompleteForChild(g)){m=t.serverCache.getNode();const C=Jp(o,r,f.getNode(),m);C!=null?y=f.getNode().getImmediateChild(g).updateChild(v,C):y=f.getNode().getImmediateChild(g)}else y=Lc(o,g,t.serverCache);y!=null?h=i.filter.updateChild(f.getNode(),g,y,v,l,a):h=f.getNode()}}return qi(t,h,f.isFullyInitialized()||le(r),i.filter.filtersNodes())}}function Yo(i,t,r,o,l,a,f,h){const m=t.serverCache;let g;const v=f?i.filter:i.filter.getIndexedFilter();if(le(r))g=v.updateFullNode(m.getNode(),o,null);else if(v.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(r,o);g=v.updateFullNode(m.getNode(),N,null)}else{const N=ie(r);if(!m.isCompleteForPath(r)&&zn(r)>1)return t;const A=Ee(r),L=m.getNode().getImmediateChild(N).updateChild(A,o);N===".priority"?g=v.updatePriority(m.getNode(),L):g=v.updateChild(m.getNode(),N,L,A,Tg,null)}const y=wg(t,g,m.isFullyInitialized()||le(r),v.filtersNodes()),C=new Fc(l,y,a);return Ng(i,y,r,l,C,h)}function sc(i,t,r,o,l,a,f){const h=t.eventCache;let m,g;const v=new Fc(l,t,a);if(le(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=qi(t,g,!0,i.filter.filtersNodes());else{const y=ie(r);if(y===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=qi(t,g,h.isFullyInitialized(),h.isFiltered());else{const C=Ee(r),N=h.getNode().getImmediateChild(y);let A;if(le(C))A=o;else{const b=v.getCompleteChild(y);b!=null?kc(C)===".priority"&&b.getChild(fg(C)).isEmpty()?A=b:A=b.updateChild(C,o):A=q.EMPTY_NODE}if(N.equals(A))m=t;else{const b=i.filter.updateChild(h.getNode(),y,A,C,v,f);m=qi(t,b,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Zp(i,t){return i.eventCache.isCompleteForChild(t)}function KS(i,t,r,o,l,a,f){let h=t;return o.foreach((m,g)=>{const v=Pe(r,m);Zp(t,ie(v))&&(h=sc(i,h,v,g,l,a,f))}),o.foreach((m,g)=>{const v=Pe(r,m);Zp(t,ie(v))||(h=sc(i,h,v,g,l,a,f))}),h}function em(i,t,r){return r.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function oc(i,t,r,o,l,a,f,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;le(r)?g=o:g=new ve(null).setTree(r,o);const v=t.serverCache.getNode();return g.children.inorderTraversal((y,C)=>{if(v.hasChild(y)){const N=t.serverCache.getNode().getImmediateChild(y),A=em(i,N,C);m=Yo(i,m,new ge(y),A,l,a,f,h)}}),g.children.inorderTraversal((y,C)=>{const N=!t.serverCache.isCompleteForChild(y)&&C.value===null;if(!v.hasChild(y)&&!N){const A=t.serverCache.getNode().getImmediateChild(y),b=em(i,A,C);m=Yo(i,m,new ge(y),b,l,a,f,h)}}),m}function qS(i,t,r,o,l,a,f){if(qo(l,r)!=null)return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(le(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Yo(i,t,r,m.getNode().getChild(r),l,a,h,f);if(le(r)){let g=new ve(null);return m.getNode().forEachChild(Ur,(v,y)=>{g=g.set(new ge(v),y)}),oc(i,t,r,g,l,a,h,f)}else return t}else{let g=new ve(null);return o.foreach((v,y)=>{const C=Pe(r,v);m.isCompleteForPath(C)&&(g=g.set(v,m.getNode().getChild(C)))}),oc(i,t,r,g,l,a,h,f)}}function YS(i,t,r,o,l){const a=t.serverCache,f=wg(t,a.getNode(),a.isFullyInitialized()||le(r),a.isFiltered());return Ng(i,f,r,o,Tg,l)}function XS(i,t,r,o,l,a){let f;if(qo(o,r)!=null)return t;{const h=new Fc(o,t,l),m=t.eventCache.getNode();let g;if(le(r)||ie(r)===".priority"){let v;if(t.serverCache.isFullyInitialized())v=Ko(o,ur(t));else{const y=t.serverCache.getNode();M(y instanceof q,"serverChildren would be complete if leaf node"),v=Mc(o,y)}v=v,g=i.filter.updateFullNode(m,v,a)}else{const v=ie(r);let y=Lc(o,v,t.serverCache);y==null&&t.serverCache.isCompleteForChild(v)&&(y=m.getImmediateChild(v)),y!=null?g=i.filter.updateChild(m,v,y,Ee(r),h,a):t.eventCache.getNode().hasChild(v)?g=i.filter.updateChild(m,v,q.EMPTY_NODE,Ee(r),h,a):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Ko(o,ur(t)),f.isLeafNode()&&(g=i.filter.updateFullNode(g,f,a)))}return f=t.serverCache.isFullyInitialized()||qo(o,de())!=null,qi(t,g,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Rc(o.getIndex()),a=gS(o);this.processor_=VS(a);const f=r.serverCache,h=r.eventCache,m=l.updateFullNode(q.EMPTY_NODE,f.getNode(),null),g=a.updateFullNode(q.EMPTY_NODE,h.getNode(),null),v=new lr(m,f.isFullyInitialized(),l.filtersNodes()),y=new lr(g,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=al(y,v),this.eventGenerator_=new SS(this.query_)}get query(){return this.query_}}function ZS(i){return i.viewCache_.serverCache.getNode()}function e0(i,t){const r=ur(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!le(t)&&!r.getImmediateChild(ie(t)).isEmpty())?r.getChild(t):null}function tm(i){return i.eventRegistrations_.length===0}function t0(i,t){i.eventRegistrations_.push(t)}function nm(i,t,r){const o=[];if(r){M(t==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(a=>{const f=a.createCancelEvent(r,l);f&&o.push(f)})}if(t){let l=[];for(let a=0;a<i.eventRegistrations_.length;++a){const f=i.eventRegistrations_[a];if(!f.matches(t))l.push(f);else if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(a+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function rm(i,t,r,o){t.type===Ut.MERGE&&t.source.queryId!==null&&(M(ur(i.viewCache_),"We should always have a full cache before handling merges"),M(tc(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,a=QS(i.processor_,l,t,r,o);return $S(i.processor_,a.viewCache),M(a.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=a.viewCache,Rg(i,a.changes,a.viewCache.eventCache.getNode(),null)}function n0(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(De,(a,f)=>{o.push(Vr(a,f))}),r.isFullyInitialized()&&o.push(yg(r.getNode())),Rg(i,o,r.getNode(),t)}function Rg(i,t,r,o){const l=o?[o]:i.eventRegistrations_;return kS(i.eventGenerator_,t,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo;class r0{constructor(){this.views=new Map}}function i0(i){M(!Xo,"__referenceConstructor has already been defined"),Xo=i}function s0(){return M(Xo,"Reference.ts has not been loaded"),Xo}function o0(i){return i.views.size===0}function zc(i,t,r,o){const l=t.source.queryId;if(l!==null){const a=i.views.get(l);return M(a!=null,"SyncTree gave us an op for an invalid query."),rm(a,t,r,o)}else{let a=[];for(const f of i.views.values())a=a.concat(rm(f,t,r,o));return a}}function l0(i,t,r,o,l){const a=t._queryIdentifier,f=i.views.get(a);if(!f){let h=Ko(r,l?o:null),m=!1;h?m=!0:o instanceof q?(h=Mc(r,o),m=!1):(h=q.EMPTY_NODE,m=!1);const g=al(new lr(h,m,!1),new lr(o,l,!1));return new JS(t,g)}return f}function u0(i,t,r,o,l,a){const f=l0(i,t,o,l,a);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),t0(f,r),n0(f,r)}function a0(i,t,r,o){const l=t._queryIdentifier,a=[];let f=[];const h=bn(i);if(l==="default")for(const[m,g]of i.views.entries())f=f.concat(nm(g,r,o)),tm(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||a.push(g.query));else{const m=i.views.get(l);m&&(f=f.concat(nm(m,r,o)),tm(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||a.push(m.query)))}return h&&!bn(i)&&a.push(new(s0())(t._repo,t._path)),{removed:a,events:f}}function xg(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function jr(i,t){let r=null;for(const o of i.views.values())r=r||e0(o,t);return r}function Pg(i,t){if(t._queryParams.loadsAllData())return cl(i);{const o=t._queryIdentifier;return i.views.get(o)}}function Dg(i,t){return Pg(i,t)!=null}function bn(i){return cl(i)!=null}function cl(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;function c0(i){M(!Jo,"__referenceConstructor has already been defined"),Jo=i}function f0(){return M(Jo,"Reference.ts has not been loaded"),Jo}let d0=1;class im{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ve(null),this.pendingWriteTree_=jS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ag(i,t,r,o,l){return RS(i.pendingWriteTree_,t,r,o,l),l?Xr(i,new or(Pc(),t,r)):[]}function h0(i,t,r,o){xS(i.pendingWriteTree_,t,r,o);const l=ve.fromObject(r);return Xr(i,new $r(Pc(),t,l))}function An(i,t,r=!1){const o=PS(i.pendingWriteTree_,t);if(DS(i.pendingWriteTree_,t)){let a=new ve(null);return o.snap!=null?a=a.set(de(),!0):Xe(o.children,f=>{a=a.set(new ge(f),!0)}),Xr(i,new Go(o.path,a,r))}else return[]}function fl(i,t,r){return Xr(i,new or(Dc(),t,r))}function p0(i,t,r){const o=ve.fromObject(r);return Xr(i,new $r(Dc(),t,o))}function m0(i,t){return Xr(i,new us(Dc(),t))}function g0(i,t,r){const o=Uc(i,r);if(o){const l=jc(o),a=l.path,f=l.queryId,h=dt(a,t),m=new us(Ac(f),h);return Bc(i,a,m)}else return[]}function lc(i,t,r,o,l=!1){const a=t._path,f=i.syncPointTree_.get(a);let h=[];if(f&&(t._queryIdentifier==="default"||Dg(f,t))){const m=a0(f,t,r,o);o0(f)&&(i.syncPointTree_=i.syncPointTree_.remove(a));const g=m.removed;if(h=m.events,!l){const v=g.findIndex(C=>C._queryParams.loadsAllData())!==-1,y=i.syncPointTree_.findOnPath(a,(C,N)=>bn(N));if(v&&!y){const C=i.syncPointTree_.subtree(a);if(!C.isEmpty()){const N=v0(C);for(let A=0;A<N.length;++A){const b=N[A],L=b.query,ne=Lg(i,b);i.listenProvider_.startListening(Xi(L),Zo(i,L),ne.hashFn,ne.onComplete)}}}!y&&g.length>0&&!o&&(v?i.listenProvider_.stopListening(Xi(t),null):g.forEach(C=>{const N=i.queryToTagMap.get(dl(C));i.listenProvider_.stopListening(Xi(C),N)}))}w0(i,g)}return h}function _0(i,t,r,o){const l=Uc(i,o);if(l!=null){const a=jc(l),f=a.path,h=a.queryId,m=dt(f,t),g=new or(Ac(h),m,r);return Bc(i,f,g)}else return[]}function y0(i,t,r,o){const l=Uc(i,o);if(l){const a=jc(l),f=a.path,h=a.queryId,m=dt(f,t),g=ve.fromObject(r),v=new $r(Ac(h),m,g);return Bc(i,f,v)}else return[]}function sm(i,t,r,o=!1){const l=t._path;let a=null,f=!1;i.syncPointTree_.foreachOnPath(l,(C,N)=>{const A=dt(C,l);a=a||jr(N,A),f=f||bn(N)});let h=i.syncPointTree_.get(l);h?(f=f||bn(h),a=a||jr(h,de())):(h=new r0,i.syncPointTree_=i.syncPointTree_.set(l,h));let m;a!=null?m=!0:(m=!1,a=q.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((N,A)=>{const b=jr(A,de());b&&(a=a.updateImmediateChild(N,b))}));const g=Dg(h,t);if(!g&&!t._queryParams.loadsAllData()){const C=dl(t);M(!i.queryToTagMap.has(C),"View does not exist, but we have a tag");const N=E0();i.queryToTagMap.set(C,N),i.tagToQueryMap.set(N,C)}const v=Oc(i.pendingWriteTree_,l);let y=u0(h,t,r,v,a,m);if(!g&&!f&&!o){const C=Pg(h,t);y=y.concat(C0(i,t,C))}return y}function bc(i,t,r){const l=i.pendingWriteTree_,a=i.syncPointTree_.findOnPath(t,(f,h)=>{const m=dt(f,t),g=jr(h,m);if(g)return g});return Sg(l,t,a,r,!0)}function Xr(i,t){return Og(t,i.syncPointTree_,null,Oc(i.pendingWriteTree_,de()))}function Og(i,t,r,o){if(le(i.path))return Mg(i,t,r,o);{const l=t.get(de());r==null&&l!=null&&(r=jr(l,de()));let a=[];const f=ie(i.path),h=i.operationForChild(f),m=t.children.get(f);if(m&&h){const g=r?r.getImmediateChild(f):null,v=kg(o,f);a=a.concat(Og(h,m,g,v))}return l&&(a=a.concat(zc(l,i,o,r))),a}}function Mg(i,t,r,o){const l=t.get(de());r==null&&l!=null&&(r=jr(l,de()));let a=[];return t.children.inorderTraversal((f,h)=>{const m=r?r.getImmediateChild(f):null,g=kg(o,f),v=i.operationForChild(f);v&&(a=a.concat(Mg(v,h,m,g)))}),l&&(a=a.concat(zc(l,i,o,r))),a}function Lg(i,t){const r=t.query,o=Zo(i,r);return{hashFn:()=>(ZS(t)||q.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?g0(i,r._path,o):m0(i,r._path);{const a=pC(l,r);return lc(i,r,null,a)}}}}function Zo(i,t){const r=dl(t);return i.queryToTagMap.get(r)}function dl(i){return i._path.toString()+"$"+i._queryIdentifier}function Uc(i,t){return i.tagToQueryMap.get(t)}function jc(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ge(i.substr(0,t))}}function Bc(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const l=Oc(i.pendingWriteTree_,t);return zc(o,r,l,null)}function v0(i){return i.fold((t,r,o)=>{if(r&&bn(r))return[cl(r)];{let l=[];return r&&(l=xg(r)),Xe(o,(a,f)=>{l=l.concat(f)}),l}})}function Xi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(f0())(i._repo,i._path):i}function w0(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const l=dl(o),a=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(a)}}}function E0(){return d0++}function C0(i,t,r){const o=t._path,l=Zo(i,t),a=Lg(i,r),f=i.listenProvider_.startListening(Xi(t),l,a.hashFn,a.onComplete),h=i.syncPointTree_.subtree(o);if(l)M(!bn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,v,y)=>{if(!le(g)&&v&&bn(v))return[cl(v).query];{let C=[];return v&&(C=C.concat(xg(v).map(N=>N.query))),Xe(y,(N,A)=>{C=C.concat(A)}),C}});for(let g=0;g<m.length;++g){const v=m[g];i.listenProvider_.stopListening(Xi(v),Zo(i,v))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Wc(r)}node(){return this.node_}}class Hc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Pe(this.path_,t);return new Hc(this.syncTree_,r)}node(){return bc(this.syncTree_,this.path_)}}const S0=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},om=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return k0(i[".sv"],t,r);if(typeof i[".sv"]=="object")return I0(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},k0=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:M(!1,"Unexpected server value: "+i)}},I0=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const l=t.node();if(M(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const f=l.getValue();return typeof f!="number"?o:f+o},Fg=function(i,t,r,o){return Vc(t,new Hc(r,i),o)},zg=function(i,t,r){return Vc(i,new Wc(t),r)};function Vc(i,t,r){const o=i.getPriority().val(),l=om(o,t.getImmediateChild(".priority"),r);let a;if(i.isLeafNode()){const f=i,h=om(f.getValue(),t,r);return h!==f.getValue()||l!==f.getPriority().val()?new Be(h,He(l)):i}else{const f=i;return a=f,l!==f.getPriority().val()&&(a=a.updatePriority(new Be(l))),f.forEachChild(De,(h,m)=>{const g=Vc(m,t.getImmediateChild(h),r);g!==m&&(a=a.updateImmediateChild(h,g))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Qc(i,t){let r=t instanceof ge?t:new ge(t),o=i,l=ie(r);for(;l!==null;){const a=Wr(o.node.children,l)||{children:{},childCount:0};o=new $c(l,o,a),r=Ee(r),l=ie(r)}return o}function Jr(i){return i.node.value}function bg(i,t){i.node.value=t,uc(i)}function Ug(i){return i.node.childCount>0}function T0(i){return Jr(i)===void 0&&!Ug(i)}function hl(i,t){Xe(i.node.children,(r,o)=>{t(new $c(r,i,o))})}function jg(i,t,r,o){r&&t(i),hl(i,l=>{jg(l,t,!0)})}function N0(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ms(i){return new ge(i.parent===null?i.name:ms(i.parent)+"/"+i.name)}function uc(i){i.parent!==null&&R0(i.parent,i.name,i)}function R0(i,t,r){const o=T0(r),l=Yt(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,uc(i)):!o&&!l&&(i.node.children[t]=r.node,i.node.childCount++,uc(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=/[\[\].#$\/\u0000-\u001F\u007F]/,P0=/[\[\].#$\u0000-\u001F\u007F]/,Fa=10*1024*1024,Gc=function(i){return typeof i=="string"&&i.length!==0&&!x0.test(i)},Bg=function(i){return typeof i=="string"&&i.length!==0&&!P0.test(i)},D0=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Bg(i)},A0=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!vc(i)||i&&typeof i=="object"&&Yt(i,".sv")},Wg=function(i,t,r,o){o&&t===void 0||pl(ol(i,"value"),t,r)},pl=function(i,t,r){const o=r instanceof ge?new KC(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+tr(o));if(typeof t=="function")throw new Error(i+"contains a function "+tr(o)+" with contents = "+t.toString());if(vc(t))throw new Error(i+"contains "+t.toString()+" "+tr(o));if(typeof t=="string"&&t.length>Fa/3&&ll(t)>Fa)throw new Error(i+"contains a string greater than "+Fa+" utf8 bytes "+tr(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,a=!1;if(Xe(t,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(a=!0,!Gc(f)))throw new Error(i+" contains an invalid key ("+f+") "+tr(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qC(o,f),pl(i,h,o),YC(o)}),l&&a)throw new Error(i+' contains ".value" child '+tr(o)+" in addition to actual children.")}},O0=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const a=is(o);for(let f=0;f<a.length;f++)if(!(a[f]===".priority"&&f===a.length-1)){if(!Gc(a[f]))throw new Error(i+"contains an invalid key ("+a[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(GC);let l=null;for(r=0;r<t.length;r++){if(o=t[r],l!==null&&Rt(l,o))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},M0=function(i,t,r,o){const l=ol(i,"values");if(typeof t!="object"||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const a=[];Xe(t,(f,h)=>{const m=new ge(f);if(pl(l,h,Pe(r,m)),kc(m)===".priority"&&!A0(h))throw new Error(l+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(m)}),O0(l,a)},Hg=function(i,t,r,o){if(!Bg(r))throw new Error(ol(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},L0=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Hg(i,t,r)},Vg=function(i,t){if(ie(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},F0=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Gc(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!D0(r))throw new Error(ol(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ml(i,t){let r=null;for(let o=0;o<t.length;o++){const l=t[o],a=l.getPath();r!==null&&!Ic(a,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(l)}r&&i.eventLists_.push(r)}function $g(i,t,r){ml(i,r),Qg(i,o=>Ic(o,t))}function Bt(i,t,r){ml(i,r),Qg(i,o=>Rt(o,t)||Rt(t,o))}function Qg(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const a=l.path;t(a)?(b0(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function b0(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Gi&&qe("event: "+r.toString()),Yr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="repo_interrupt",j0=25;class B0{constructor(t,r,o,l){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new z0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qo(),this.transactionQueueTree_=new $c,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W0(i,t,r){if(i.stats_=Cc(i.repoInfo_),i.forceRestClient_||yC())i.server_=new $o(i.repoInfo_,(o,l,a,f)=>{lm(i,o,l,a,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>um(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ve(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new an(i.repoInfo_,t,(o,l,a,f)=>{lm(i,o,l,a,f)},o=>{um(i,o)},o=>{H0(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=SC(i.repoInfo_,()=>new CS(i.stats_,i.server_)),i.infoData_=new _S,i.infoSyncTree_=new im({startListening:(o,l,a,f)=>{let h=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(h=fl(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Kc(i,"connected",!1),i.serverSyncTree_=new im({startListening:(o,l,a,f)=>(i.server_.listen(o,a,l,(h,m)=>{const g=f(h,m);Bt(i.eventQueue_,o._path,g)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function Gg(i){const r=i.infoData_.getNode(new ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function gl(i){return S0({timestamp:Gg(i)})}function lm(i,t,r,o,l){i.dataUpdateCount++;const a=new ge(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(l)if(o){const m=Uo(r,g=>He(g));f=y0(i.serverSyncTree_,a,m,l)}else{const m=He(r);f=_0(i.serverSyncTree_,a,m,l)}else if(o){const m=Uo(r,g=>He(g));f=p0(i.serverSyncTree_,a,m)}else{const m=He(r);f=fl(i.serverSyncTree_,a,m)}let h=a;f.length>0&&(h=Gr(i,a)),Bt(i.eventQueue_,h,f)}function um(i,t){Kc(i,"connected",t),t===!1&&Q0(i)}function H0(i,t){Xe(t,(r,o)=>{Kc(i,r,o)})}function Kc(i,t,r){const o=new ge("/.info/"+t),l=He(r);i.infoData_.updateSnapshot(o,l);const a=fl(i.infoSyncTree_,o,l);Bt(i.eventQueue_,o,a)}function qc(i){return i.nextWriteId_++}function V0(i,t,r,o,l){_l(i,"set",{path:t.toString(),value:r,priority:o});const a=gl(i),f=He(r,o),h=bc(i.serverSyncTree_,t),m=zg(f,h,a),g=qc(i),v=Ag(i.serverSyncTree_,t,m,g,!0);ml(i.eventQueue_,v),i.server_.put(t.toString(),f.val(!0),(C,N)=>{const A=C==="ok";A||it("set at "+t+" failed: "+C);const b=An(i.serverSyncTree_,g,!A);Bt(i.eventQueue_,t,b),cc(i,l,C,N)});const y=Xc(i,t);Gr(i,y),Bt(i.eventQueue_,y,[])}function $0(i,t,r,o){_l(i,"update",{path:t.toString(),value:r});let l=!0;const a=gl(i),f={};if(Xe(r,(h,m)=>{l=!1,f[h]=Fg(Pe(t,h),He(m),i.serverSyncTree_,a)}),l)qe("update() called with empty data.  Don't do anything."),cc(i,o,"ok",void 0);else{const h=qc(i),m=h0(i.serverSyncTree_,t,f,h);ml(i.eventQueue_,m),i.server_.merge(t.toString(),r,(g,v)=>{const y=g==="ok";y||it("update at "+t+" failed: "+g);const C=An(i.serverSyncTree_,h,!y),N=C.length>0?Gr(i,t):t;Bt(i.eventQueue_,N,C),cc(i,o,g,v)}),Xe(r,g=>{const v=Xc(i,Pe(t,g));Gr(i,v)}),Bt(i.eventQueue_,t,[])}}function Q0(i){_l(i,"onDisconnectEvents");const t=gl(i),r=Qo();ec(i.onDisconnect_,de(),(l,a)=>{const f=Fg(l,a,i.serverSyncTree_,t);vg(r,l,f)});let o=[];ec(r,de(),(l,a)=>{o=o.concat(fl(i.serverSyncTree_,l,a));const f=Xc(i,l);Gr(i,f)}),i.onDisconnect_=Qo(),Bt(i.eventQueue_,de(),o)}function G0(i,t,r){let o;ie(t._path)===".info"?o=sm(i.infoSyncTree_,t,r):o=sm(i.serverSyncTree_,t,r),$g(i.eventQueue_,t._path,o)}function ac(i,t,r){let o;ie(t._path)===".info"?o=lc(i.infoSyncTree_,t,r):o=lc(i.serverSyncTree_,t,r),$g(i.eventQueue_,t._path,o)}function K0(i){i.persistentConnection_&&i.persistentConnection_.interrupt(U0)}function _l(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),qe(r,...t)}function cc(i,t,r,o){t&&Yr(()=>{if(r==="ok")t(null);else{const l=(r||"error").toUpperCase();let a=l;o&&(a+=": "+o);const f=new Error(a);f.code=l,t(f)}})}function Kg(i,t,r){return bc(i.serverSyncTree_,t,r)||q.EMPTY_NODE}function Yc(i,t=i.transactionQueueTree_){if(t||yl(i,t),Jr(t)){const r=Yg(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&q0(i,ms(t),r)}else Ug(t)&&hl(t,r=>{Yc(i,r)})}function q0(i,t,r){const o=r.map(g=>g.currentWriteId),l=Kg(i,t,o);let a=l;const f=l.hash();for(let g=0;g<r.length;g++){const v=r[g];M(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=dt(t,v.path);a=a.updateChild(y,v.currentOutputSnapshotRaw)}const h=a.val(!0),m=t;i.server_.put(m.toString(),h,g=>{_l(i,"transaction put response",{path:m.toString(),status:g});let v=[];if(g==="ok"){const y=[];for(let C=0;C<r.length;C++)r[C].status=2,v=v.concat(An(i.serverSyncTree_,r[C].currentWriteId)),r[C].onComplete&&y.push(()=>r[C].onComplete(null,!0,r[C].currentOutputSnapshotResolved)),r[C].unwatcher();yl(i,Qc(i.transactionQueueTree_,t)),Yc(i,i.transactionQueueTree_),Bt(i.eventQueue_,t,v);for(let C=0;C<y.length;C++)Yr(y[C])}else{if(g==="datastale")for(let y=0;y<r.length;y++)r[y].status===3?r[y].status=4:r[y].status=0;else{it("transaction at "+m.toString()+" failed: "+g);for(let y=0;y<r.length;y++)r[y].status=4,r[y].abortReason=g}Gr(i,t)}},f)}function Gr(i,t){const r=qg(i,t),o=ms(r),l=Yg(i,r);return Y0(i,l,o),o}function Y0(i,t,r){if(t.length===0)return;const o=[];let l=[];const f=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],g=dt(r,m.path);let v=!1,y;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,y=m.abortReason,l=l.concat(An(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=j0)v=!0,y="maxretry",l=l.concat(An(i.serverSyncTree_,m.currentWriteId,!0));else{const C=Kg(i,m.path,f);m.currentInputSnapshot=C;const N=t[h].update(C.val());if(N!==void 0){pl("transaction failed: Data returned ",N,m.path);let A=He(N);typeof N=="object"&&N!=null&&Yt(N,".priority")||(A=A.updatePriority(C.getPriority()));const L=m.currentWriteId,ne=gl(i),J=zg(A,C,ne);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=J,m.currentWriteId=qc(i),f.splice(f.indexOf(L),1),l=l.concat(Ag(i.serverSyncTree_,m.path,J,m.currentWriteId,m.applyLocally)),l=l.concat(An(i.serverSyncTree_,L,!0))}else v=!0,y="nodata",l=l.concat(An(i.serverSyncTree_,m.currentWriteId,!0))}Bt(i.eventQueue_,r,l),l=[],v&&(t[h].status=2,function(C){setTimeout(C,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(y),!1,null))))}yl(i,i.transactionQueueTree_);for(let h=0;h<o.length;h++)Yr(o[h]);Yc(i,i.transactionQueueTree_)}function qg(i,t){let r,o=i.transactionQueueTree_;for(r=ie(t);r!==null&&Jr(o)===void 0;)o=Qc(o,r),t=Ee(t),r=ie(t);return o}function Yg(i,t){const r=[];return Xg(i,t,r),r.sort((o,l)=>o.order-l.order),r}function Xg(i,t,r){const o=Jr(t);if(o)for(let l=0;l<o.length;l++)r.push(o[l]);hl(t,l=>{Xg(i,l,r)})}function yl(i,t){const r=Jr(t);if(r){let o=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[o]=r[l],o++);r.length=o,bg(t,r.length>0?r:void 0)}hl(t,o=>{yl(i,o)})}function Xc(i,t){const r=ms(qg(i,t)),o=Qc(i.transactionQueueTree_,t);return N0(o,l=>{za(i,l)}),za(i,o),jg(o,l=>{za(i,l)}),r}function za(i,t){const r=Jr(t);if(r){const o=[];let l=[],a=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(M(a===f-1,"All SENT items should be at beginning of queue."),a=f,r[f].status=3,r[f].abortReason="set"):(M(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),l=l.concat(An(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));a===-1?bg(t,void 0):r.length=a+1,Bt(i.eventQueue_,ms(t),l);for(let f=0;f<o.length;f++)Yr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let l=r[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function J0(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):it(`Invalid query segment '${r}' in query '${i}'`)}return t}const am=function(i,t){const r=Z0(i),o=r.namespace;r.domain==="firebase.com"&&dn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||aC();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new ng(r.host,r.secure,o,l,t,"",o!==r.subdomain),path:new ge(r.pathString)}},Z0=function(i){let t="",r="",o="",l="",a="",f=!0,h="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let v=i.indexOf("/");v===-1&&(v=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),t=i.substring(0,Math.min(v,y)),v<y&&(l=X0(i.substring(v,y)));const C=J0(i.substring(Math.min(i.length,y)));g=t.indexOf(":"),g>=0?(f=h==="https"||h==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const N=t.slice(0,g);if(N.toLowerCase()==="localhost")r="localhost";else if(N.split(".").length<=2)r=N;else{const A=t.indexOf(".");o=t.substring(0,A).toLowerCase(),r=t.substring(A+1),a=o}"ns"in C&&(a=C.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:h,pathString:l,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e1=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let l;const a=new Array(8);for(l=7;l>=0;l--)a[l]=cm.charAt(r%64),r=Math.floor(r/64);M(r===0,"Cannot push at time == 0");let f=a.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=cm.charAt(t[l]);return M(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,r,o,l){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ve(this.snapshot.exportVal())}}class n1{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,r,o,l){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=l}get key(){return le(this._path)?null:kc(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const t=Kp(this._queryParams),r=wc(t);return r==="{}"?"default":r}get _queryObject(){return Kp(this._queryParams)}isEqual(t){if(t=qr(t),!(t instanceof Jc))return!1;const r=this._repo===t._repo,o=Ic(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return r&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+QC(this._path)}}class Un extends Jc{constructor(t,r){super(t,r,new xc,!1)}get parent(){const t=fg(this._path);return t===null?null:new Un(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class el{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ge(t),o=as(this.ref,t);return new el(this._node.getChild(r),o,De)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new el(l,as(this.ref,o),De)))}hasChild(t){const r=new ge(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vl(i,t){return i=qr(i),i._checkNotDeleted("ref"),t!==void 0?as(i._root,t):i._root}function as(i,t){return i=qr(i),ie(i._path)===null?L0("child","path",t):Hg("child","path",t),new Un(i._repo,Pe(i._path,t))}function i1(i,t){i=qr(i),Vg("push",i._path),Wg("push",t,i._path,!0);const r=Gg(i._repo),o=e1(r),l=as(i,o),a=as(i,o);let f;return t!=null?f=s1(a,t).then(()=>a):f=Promise.resolve(a),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function s1(i,t){i=qr(i),Vg("set",i._path),Wg("set",t,i._path,!1);const r=new cs;return V0(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function o1(i,t){M0("update",t,i._path);const r=new cs;return $0(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}class Zc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new t1("value",this,new el(t.snapshotNode,new Un(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new n1(this,t,r):null}matches(t){return t instanceof Zc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function l1(i,t,r,o,l){let a;if(typeof o=="object"&&(a=void 0,l=o),typeof o=="function"&&(a=o),l&&l.onlyOnce){const m=r,g=(v,y)=>{ac(i._repo,i,h),m(v,y)};g.userCallback=r.userCallback,g.context=r.context,r=g}const f=new r1(r,a||void 0),h=new Zc(f);return G0(i._repo,i,h),()=>ac(i._repo,i,h)}function Jg(i,t,r,o){return l1(i,"value",t,r,o)}function Zg(i,t,r){ac(i._repo,i,null)}i0(Un);c0(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="FIREBASE_DATABASE_EMULATOR_HOST",fc={};let a1=!1;function c1(i,t,r,o){i.repoInfo_=new ng(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function f1(i,t,r,o,l){let a=o||i.options.databaseURL;a===void 0&&(i.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",i.options.projectId),a=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=am(a,l),h=f.repoInfo,m;typeof process<"u"&&Pp&&(m=Pp[u1]),m?(a=`http://${m}?ns=${h.namespace}`,f=am(a,l),h=f.repoInfo):f.repoInfo.secure;const g=new wC(i.name,i.options,t);F0("Invalid Firebase Database URL",f),le(f.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=h1(h,i,g,new vC(i.name,r));return new p1(v,i)}function d1(i,t){const r=fc[t];(!r||r[i.key]!==i)&&dn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),K0(i),delete r[i.key]}function h1(i,t,r,o){let l=fc[t.name];l||(l={},fc[t.name]=l);let a=l[i.toURLString()];return a&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new B0(i,a1,r,o),l[i.toURLString()]=a,a}class p1{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(W0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(d1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&dn("Cannot call "+t+" on a deleted database.")}}function m1(i=GE(),t){const r=HE(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=Aw("database");o&&g1(r,...o)}return r}function g1(i,t,r,o={}){i=qr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&dn("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let a;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Do(Do.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:Ow(o.mockUserToken,i.app.options.projectId);a=new Do(f)}c1(l,t,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(i){rC(QE),Bo(new ts("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return f1(o,l,a,r)},"PUBLIC").setMultipleInstances(!0)),zr(Dp,Ap,i),zr(Dp,Ap,"esm2017")}an.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};an.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};_1();var y1="firebase",v1="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(y1,v1,"app");const w1={apiKey:void 0,authDomain:"tienda-comida-1a7e2.firebaseapp.com",databaseURL:"https://tienda-comida-1a7e2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tienda-comida-1a7e2",storageBucket:"tienda-comida-1a7e2.firebasestorage.app",messagingSenderId:"1092414552129",appId:"1:1092414552129:web:b91dd2b90d0b1fdfb0aec0"},E1=Um(w1),wl=m1(E1),C1=async(i,t)=>{const r=vl(wl,`menu/${i}`);await o1(r,{quantity:t})},S1=async i=>{const t=vl(wl,"orders");await i1(t,i)},e_=i=>i?Object.entries(i).map(([t,r])=>({...r,id:t})):[],k1={items:[],error:null,loading:!1},Ao=gc("menu/fetchItems",async(i,{rejectWithValue:t})=>new Promise((r,o)=>{const l=vl(wl,"menu");Jg(l,a=>{const f=a.val();if(f){const h=e_(f);r(h)}else o(new Error("No hay datos disponibles"));Zg(l)},a=>{console.error("Error en Firebase:",a),t(a)})}).catch(r=>t(r))),I1=gc("menu/refreshMenu",async(i,{rejectWithValue:t})=>new Promise((r,o)=>{const l=vl(wl,"menu");Jg(l,a=>{const f=a.val();if(f){const h=e_(f);r(h)}else o(new Error("No hay datos disponibles"));Zg(l)},a=>{console.error("Error en Firebase:",a),t(a)})}).catch(r=>t(r)));gc("menu/addOrder",async({id:i,order:t})=>new Promise((r,o)=>{try{S1(t).then(()=>C1(i,t.quantity)),r()}catch(l){console.error(l.message),o()}}));const T1=Tm({name:"menu",initialState:k1,reducers:{},extraReducers:i=>{i.addCase(Ao.fulfilled,(t,r)=>{t.items=r.payload,t.loading=!1,t.error=null}).addCase(Ao.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ao.pending,t=>{t.loading=!0,t.error=null}).addCase(I1.fulfilled,(t,r)=>{t.items=r.payload})}}),N1=T1.reducer,R1={isChooseFoodPage:!1},t_=Tm({name:"pages",initialState:R1,reducers:{togglePages:i=>{i.isChooseFoodPage=!i.isChooseFoodPage}}}),{togglePages:x1}=t_.actions,P1=t_.reducer,D1=dm.lazy(()=>fv(()=>import("./Foods-DTDCRoCO.js"),[])),A1=({items:i})=>Me.jsxs(Me.Fragment,{children:[Me.jsx("h4",{className:"subTitle",children:"Menús"}),Me.jsx("ul",{className:"ulApp",children:i.map(t=>Me.jsxs("article",{className:"liApp",children:[Me.jsx("p",{children:t.name}),Me.jsxs("p",{children:["#",t.quantity]})]},t.id))})]});function O1(){const{isChooseFoodPage:i}=up(a=>a.pages),{items:t,loading:r,error:o}=up(a=>a.menu),l=xv();return Ye.useEffect(()=>{l(Ao())},[]),r?Me.jsx("h1",{children:"Cargando menú"}):o?Me.jsx("h1",{children:"No se ha podido cargar el menú"}):Me.jsxs("div",{className:"App",children:[Me.jsx("button",{className:"toggleButton",onClick:()=>l(x1()),children:i?"Disponibilidad":"Pedir Comida"}),Me.jsx("h3",{className:"title",children:"Comida Rápida Online"}),!i&&Me.jsx(A1,{items:t}),i&&Me.jsx(Ye.Suspense,{fallback:Me.jsx("div",{children:"Cargando comida"}),children:Me.jsx(D1,{})})]})}class M1{constructor(){bi(this,"levels");bi(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no válido: ${t}`)}log(t,r){const o=this.levels.indexOf(t),l=this.levels.indexOf(this.currentLevel);if(o>=l){const a=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${a}: ${r}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}}const fm=new M1;class L1 extends dm.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){fm.warn("Error capturado por ErrorBoundary: "+t.message),fm.debug("Detalles del error: "+r.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const F1=i=>t=>r=>{console.log("🚀 Enviando accción:",r),console.log("📦 Estado anterior:",i.getState());const o=t(r);return console.log("✅ Nuevo estado:",i.getState()),o},z1=rw({reducer:{menu:N1,pages:P1},middleware:i=>i().concat(F1)});uv.createRoot(document.getElementById("root")).render(Me.jsx(Ye.StrictMode,{children:Me.jsx(L1,{fallback:Me.jsx("div",{children:"Algo ha ido mal :("}),children:Me.jsx(Tv,{store:z1,children:Me.jsx(O1,{})})})}));export{S1 as a,I1 as b,up as c,Me as j,C1 as l,Ye as r,x1 as t,xv as u};
